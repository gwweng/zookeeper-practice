2020-06-13 22:55:02,776 [myid:] - INFO  [main:JUnit4ZKTestRunner@51] - No test.method specified. using default methods.
2020-06-13 22:55:02,781 [myid:] - INFO  [main:JUnit4ZKTestRunner@51] - No test.method specified. using default methods.
2020-06-13 22:55:03,061 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTE5Mi4xNjguMS4xMDIAAPJRiPz5sYxYNFJgxO1LAAABcq4tSRyAAQB4
2020-06-13 22:55:03,127 [myid:] - INFO  [main:PortAssignment@154] - Test process 8/8 using ports from 30072 - 32764.
2020-06-13 22:55:03,130 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30073 from range 30072 - 32764.
2020-06-13 22:55:03,139 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30074 from range 30072 - 32764.
2020-06-13 22:55:03,140 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30075 from range 30072 - 32764.
2020-06-13 22:55:03,151 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30076 from range 30072 - 32764.
2020-06-13 22:55:03,153 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30077 from range 30072 - 32764.
2020-06-13 22:55:03,153 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30078 from range 30072 - 32764.
2020-06-13 22:55:03,154 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30079 from range 30072 - 32764.
2020-06-13 22:55:03,155 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30080 from range 30072 - 32764.
2020-06-13 22:55:03,156 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30081 from range 30072 - 32764.
2020-06-13 22:55:03,156 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30073
2020-06-13 22:55:03,175 [myid:] - INFO  [main:QuorumPeer@754] - zookeeper.quorumCnxnTimeoutMs=-1
2020-06-13 22:55:03,199 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:03,201 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:03,203 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:03,233 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30073
2020-06-13 22:55:03,285 [myid:] - INFO  [main:Log@169] - Logging initialized @2362ms to org.eclipse.jetty.util.log.Slf4jLog
2020-06-13 22:55:03,434 [myid:] - WARN  [main:ContextHandler@1520] - o.e.j.s.ServletContextHandler@491666ad{/,null,UNAVAILABLE} contextPath ends with /*
2020-06-13 22:55:03,434 [myid:] - WARN  [main:ContextHandler@1531] - Empty contextPath
2020-06-13 22:55:03,453 [myid:] - INFO  [main:X509Util@77] - Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation
2020-06-13 22:55:03,458 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:03,488 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2020-06-13 22:55:03,488 [myid:] - INFO  [main:ZookeeperBanner@42] -   ______                  _                                          
2020-06-13 22:55:03,488 [myid:] - INFO  [main:ZookeeperBanner@42] -  |___  /                 | |                                         
2020-06-13 22:55:03,488 [myid:] - INFO  [main:ZookeeperBanner@42] -     / /    ___     ___   | | __   ___    ___   _ __     ___   _ __   
2020-06-13 22:55:03,488 [myid:] - INFO  [main:ZookeeperBanner@42] -    / /    / _ \   / _ \  | |/ /  / _ \  / _ \ | '_ \   / _ \ | '__|
2020-06-13 22:55:03,489 [myid:] - INFO  [main:ZookeeperBanner@42] -   / /__  | (_) | | (_) | |   <  |  __/ |  __/ | |_) | |  __/ | |    
2020-06-13 22:55:03,489 [myid:] - INFO  [main:ZookeeperBanner@42] -  /_____|  \___/   \___/  |_|\_\  \___|  \___| | .__/   \___| |_|
2020-06-13 22:55:03,489 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               | |                     
2020-06-13 22:55:03,489 [myid:] - INFO  [main:ZookeeperBanner@42] -                                               |_|                     
2020-06-13 22:55:03,489 [myid:] - INFO  [main:ZookeeperBanner@42] - 
2020-06-13 22:55:03,497 [myid:] - INFO  [main:Environment@98] - Server environment:zookeeper.version=3.6.1-SNAPSHOT-88650b8fe4a8dd606149302d55bdd69353408da9, built on 06/13/2020 14:54 GMT
2020-06-13 22:55:03,497 [myid:] - INFO  [main:Environment@98] - Server environment:host.name=192.168.1.102
2020-06-13 22:55:03,497 [myid:] - INFO  [main:Environment@98] - Server environment:java.version=1.8.0_181
2020-06-13 22:55:03,497 [myid:] - INFO  [main:Environment@98] - Server environment:java.vendor=Oracle Corporation
2020-06-13 22:55:03,498 [myid:] - INFO  [main:Environment@98] - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk8.jdk/Contents/Home/jre
2020-06-13 22:55:03,498 [myid:] - INFO  [main:Environment@98] - Server environment:java.class.path=/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/test-classes:/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/classes:/Users/dylan/environment/repo/com/github/spotbugs/spotbugs-annotations/3.1.9/spotbugs-annotations-3.1.9.jar:/Users/dylan/environment/repo/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/dylan/environment/repo/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/Users/dylan/environment/repo/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/dylan/environment/repo/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-jute/target/zookeeper-jute-3.6.1-SNAPSHOT.jar:/Users/dylan/environment/repo/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/dylan/environment/repo/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/Users/dylan/environment/repo/io/netty/netty-handler/4.1.45.Final/netty-handler-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-common/4.1.45.Final/netty-common-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-buffer/4.1.45.Final/netty-buffer-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-transport/4.1.45.Final/netty-transport-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-resolver/4.1.45.Final/netty-resolver-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-codec/4.1.45.Final/netty-codec-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-transport-native-epoll/4.1.45.Final/netty-transport-native-epoll-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-transport-native-unix-common/4.1.45.Final/netty-transport-native-unix-common-4.1.45.Final.jar:/Users/dylan/environment/repo/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/dylan/environment/repo/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-server/9.4.24.v20191120/jetty-server-9.4.24.v20191120.jar:/Users/dylan/environment/repo/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-http/9.4.24.v20191120/jetty-http-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-util/9.4.24.v20191120/jetty-util-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-io/9.4.24.v20191120/jetty-io-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-servlet/9.4.24.v20191120/jetty-servlet-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-security/9.4.24.v20191120/jetty-security-9.4.24.v20191120.jar:/Users/dylan/environment/repo/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar:/Users/dylan/environment/repo/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar:/Users/dylan/environment/repo/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar:/Users/dylan/environment/repo/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar:/Users/dylan/environment/repo/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/dylan/environment/repo/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/dylan/environment/repo/jline/jline/2.11/jline-2.11.jar:/Users/dylan/environment/repo/io/dropwizard/metrics/metrics-core/3.2.5/metrics-core-3.2.5.jar:/Users/dylan/environment/repo/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-core/2.0.0/kerb-core-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-pkix/2.0.0/kerby-pkix-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-asn1/2.0.0/kerby-asn1-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-util/2.0.0/kerby-util-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-simplekdc/2.0.0/kerb-simplekdc-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-client/2.0.0/kerb-client-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-common/2.0.0/kerb-common-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-crypto/2.0.0/kerb-crypto-2.0.0.jar:/Users/dylan/environment/repo/commons-io/commons-io/2.6/commons-io-2.6.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-util/2.0.0/kerb-util-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/token-provider/2.0.0/token-provider-2.0.0.jar:/Users/dylan/environment/repo/com/nimbusds/nimbus-jose-jwt/4.41.2/nimbus-jose-jwt-4.41.2.jar:/Users/dylan/environment/repo/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/Users/dylan/environment/repo/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/dylan/environment/repo/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/dylan/environment/repo/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-admin/2.0.0/kerb-admin-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-server/2.0.0/kerb-server-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-identity/2.0.0/kerb-identity-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-xdr/2.0.0/kerby-xdr-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-config/2.0.0/kerby-config-2.0.0.jar:/Users/dylan/environment/repo/org/mockito/mockito-core/2.27.0/mockito-core-2.27.0.jar:/Users/dylan/environment/repo/net/bytebuddy/byte-buddy/1.9.10/byte-buddy-1.9.10.jar:/Users/dylan/environment/repo/net/bytebuddy/byte-buddy-agent/1.9.10/byte-buddy-agent-1.9.10.jar:/Users/dylan/environment/repo/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/dylan/environment/repo/org/jmockit/jmockit/1.48/jmockit-1.48.jar:/Users/dylan/environment/repo/junit/junit/4.12/junit-4.12.jar:/Users/dylan/environment/repo/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/dylan/environment/repo/org/xerial/snappy/snappy-java/1.1.7/snappy-java-1.1.7.jar:
2020-06-13 22:55:03,498 [myid:] - INFO  [main:Environment@98] - Server environment:java.library.path=/Users/dylan/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2020-06-13 22:55:03,499 [myid:] - INFO  [main:Environment@98] - Server environment:java.io.tmpdir=/var/folders/ff/jrkzw6gx39jd5s2rmrzy1tc00000gn/T/
2020-06-13 22:55:03,499 [myid:] - INFO  [main:Environment@98] - Server environment:java.compiler=<NA>
2020-06-13 22:55:03,499 [myid:] - INFO  [main:Environment@98] - Server environment:os.name=Mac OS X
2020-06-13 22:55:03,499 [myid:] - INFO  [main:Environment@98] - Server environment:os.arch=x86_64
2020-06-13 22:55:03,499 [myid:] - INFO  [main:Environment@98] - Server environment:os.version=10.13.6
2020-06-13 22:55:03,500 [myid:] - INFO  [main:Environment@98] - Server environment:user.name=dylan
2020-06-13 22:55:03,500 [myid:] - INFO  [main:Environment@98] - Server environment:user.home=/Users/dylan
2020-06-13 22:55:03,500 [myid:] - INFO  [main:Environment@98] - Server environment:user.dir=/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server
2020-06-13 22:55:03,500 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=220MB
2020-06-13 22:55:03,500 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=455MB
2020-06-13 22:55:03,500 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=245MB
2020-06-13 22:55:03,501 [myid:] - INFO  [main:ZooKeeperServer@128] - zookeeper.enableEagerACLCheck = false
2020-06-13 22:55:03,501 [myid:] - INFO  [main:ZooKeeperServer@136] - zookeeper.digest.enabled = true
2020-06-13 22:55:03,502 [myid:] - INFO  [main:ZooKeeperServer@140] - zookeeper.closeSessionTxn.enabled = true
2020-06-13 22:55:03,502 [myid:] - INFO  [main:ZooKeeperServer@1496] - zookeeper.flushDelay=0
2020-06-13 22:55:03,503 [myid:] - INFO  [main:ZooKeeperServer@1505] - zookeeper.maxWriteQueuePollTime=0
2020-06-13 22:55:03,503 [myid:] - INFO  [main:ZooKeeperServer@1514] - zookeeper.maxBatchSize=1000
2020-06-13 22:55:03,503 [myid:] - INFO  [main:ZooKeeperServer@243] - zookeeper.intBufferStartingSizeBytes = 1024
2020-06-13 22:55:03,510 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,511 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,511 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:03,511 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:03,512 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:03,516 [myid:] - WARN  [main:ContextHandler@1520] - o.e.j.s.ServletContextHandler@4c6e276e{/,null,UNAVAILABLE} contextPath ends with /*
2020-06-13 22:55:03,516 [myid:] - WARN  [main:ContextHandler@1531] - Empty contextPath
2020-06-13 22:55:03,517 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30076
2020-06-13 22:55:03,517 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:03,517 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:03,518 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:03,519 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30076
2020-06-13 22:55:03,523 [myid:] - WARN  [main:ContextHandler@1520] - o.e.j.s.ServletContextHandler@2890c451{/,null,UNAVAILABLE} contextPath ends with /*
2020-06-13 22:55:03,523 [myid:] - WARN  [main:ContextHandler@1531] - Empty contextPath
2020-06-13 22:55:03,523 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:03,525 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,525 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,525 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:03,525 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:03,525 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:03,526 [myid:] - WARN  [main:ContextHandler@1520] - o.e.j.s.ServletContextHandler@482cd91f{/,null,UNAVAILABLE} contextPath ends with /*
2020-06-13 22:55:03,527 [myid:] - WARN  [main:ContextHandler@1531] - Empty contextPath
2020-06-13 22:55:03,527 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30079
2020-06-13 22:55:03,527 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:03,527 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:03,527 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:03,528 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30079
2020-06-13 22:55:03,529 [myid:] - WARN  [main:ContextHandler@1520] - o.e.j.s.ServletContextHandler@5d740a0f{/,null,UNAVAILABLE} contextPath ends with /*
2020-06-13 22:55:03,529 [myid:] - WARN  [main:ContextHandler@1531] - Empty contextPath
2020-06-13 22:55:03,529 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:03,531 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,531 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,532 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:03,532 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:03,532 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:03,533 [myid:] - WARN  [main:ContextHandler@1520] - o.e.j.s.ServletContextHandler@2c34f934{/,null,UNAVAILABLE} contextPath ends with /*
2020-06-13 22:55:03,533 [myid:] - WARN  [main:ContextHandler@1531] - Empty contextPath
2020-06-13 22:55:03,536 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testSessionEstablishment
2020-06-13 22:55:03,549 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:03,552 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:03,552 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:03,552 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:03,553 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:03,553 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:03,553 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:03,553 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:03,553 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:03,555 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30073
2020-06-13 22:55:03,556 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30073 is no longer accepting client connections
2020-06-13 22:55:03,556 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:03,556 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30076 is no longer accepting client connections
2020-06-13 22:55:03,556 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30079
2020-06-13 22:55:03,557 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30079 is no longer accepting client connections
2020-06-13 22:55:03,557 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30073
2020-06-13 22:55:03,558 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:03,558 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:03,558 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:03,558 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30073
2020-06-13 22:55:03,559 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:03,560 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,560 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,560 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:03,561 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:03,561 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:03,593 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:03,599 [myid:] - INFO  [main:SnapStream@61] - zookeeper.snapshot.compression.method = CHECKED
2020-06-13 22:55:03,599 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2/snapshot.0
2020-06-13 22:55:03,604 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 43 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:03,605 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:03,607 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:03,609 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:03,617 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:03,619 [myid:] - INFO  [main:FastLeaderElection@88] - zookeeper.fastleader.minNotificationInterval=200
2020-06-13 22:55:03,619 [myid:] - INFO  [main:FastLeaderElection@90] - zookeeper.fastleader.maxNotificationInterval=60000
2020-06-13 22:55:03,624 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30076
2020-06-13 22:55:03,627 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:03,628 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:03,629 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:03,630 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30076
2020-06-13 22:55:03,631 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:03,633 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,634 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:03,634 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:03,635 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:03,635 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:03,636 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1101] - 1 is accepting connections now, my election bind port: /127.0.0.1:30075
2020-06-13 22:55:03,636 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:03,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:03,637 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:03,637 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2/snapshot.0
2020-06-13 22:55:03,638 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:03,639 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:03,639 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:03,641 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):BlueThrottle@141] - Weighed connection throttling is disabled
2020-06-13 22:55:03,641 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:03,641 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:03,642 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:03,642 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30078
2020-06-13 22:55:03,642 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30073
2020-06-13 22:55:03,642 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:03,643 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:03,643 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:03,643 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:03,643 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:03,644 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,644 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,644 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,644 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,645 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:03,646 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:03,646 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:03,646 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:03,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:03,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:03,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:03,647 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:03,646 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:03,647 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:03,647 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:03,647 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:03,649 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:03,649 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:03,649 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:03,649 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:03,650 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2
2020-06-13 22:55:03,650 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2
2020-06-13 22:55:03,651 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:03,651 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x0
2020-06-13 22:55:03,664 [myid:] - INFO  [NIOWorkerThread-1:FourLetterCommands@223] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, -720899=telnet close, 1751217000=hash, 2003003507=wchs, 2003003504=wchp, 1684632179=dirs, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2020-06-13 22:55:03,664 [myid:] - INFO  [NIOWorkerThread-1:FourLetterCommands@224] - The list of enabled four letter word commands is : [[wchs, stat, wchp, dirs, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, telnet close, crst, hash, cons]]
2020-06-13 22:55:03,664 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62057
2020-06-13 22:55:03,673 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:03,674 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:62061
2020-06-13 22:55:03,679 [myid:] - INFO  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@524] - Have smaller server identifier, so dropping the connection: (myId:1 --> sid:2)
2020-06-13 22:55:03,679 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:03,680 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:03,680 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:62063
2020-06-13 22:55:03,680 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:03,685 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:03,685 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:03,688 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:03,689 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:03,690 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:03,889 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:03,889 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:03,890 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:03,890 [myid:] - INFO  [Thread-2:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:03,890 [myid:] - INFO  [Thread-3:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:03,890 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:03,895 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@117] - leaderConnectDelayDuringRetryMs: 100
2020-06-13 22:55:03,895 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@118] - TCP NoDelay set to: true
2020-06-13 22:55:03,895 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):LearnerMaster@47] - zookeeper.leader.maxConcurrentSnapSyncs = 10
2020-06-13 22:55:03,895 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):LearnerMaster@50] - zookeeper.leader.maxConcurrentDiffSyncs = 100
2020-06-13 22:55:03,895 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@84] - TCP NoDelay set to: true
2020-06-13 22:55:03,895 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@105] - zookeeper.leader.ackLoggingFrequency = 1000
2020-06-13 22:55:03,896 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@1422] - zookeeper.leader.maxTimeToWaitForEpoch = -1ms
2020-06-13 22:55:03,896 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:03,896 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:03,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:03,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:03,897 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:03,898 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:03,897 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:03,898 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,898 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:03,898 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:03,898 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:03,898 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:03,898 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:03,899 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:03,899 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:03,899 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:03,899 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:03,899 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2
2020-06-13 22:55:03,899 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:03,900 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:03,900 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:03,900 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:03,900 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:03,900 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2
2020-06-13 22:55:03,901 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 249 MS
2020-06-13 22:55:03,904 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:03,905 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 254 MS
2020-06-13 22:55:03,907 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30077:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30077
2020-06-13 22:55:03,907 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:03,908 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2/snapshot.0
2020-06-13 22:55:03,908 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 1 ms
2020-06-13 22:55:03,921 [myid:] - INFO  [LearnerHandler-/127.0.0.1:62135:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30074:30075:participant;127.0.0.1:30073
2020-06-13 22:55:03,926 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:03,926 [myid:] - INFO  [LearnerHandler-/127.0.0.1:62135:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:03,926 [myid:] - INFO  [LearnerHandler-/127.0.0.1:62135:LearnerHandler@861] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-13 22:55:03,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:03,927 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:03,926 [myid:] - INFO  [LearnerHandler-/127.0.0.1:62135:LearnerHandler@916] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-13 22:55:03,930 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@542] - Getting a diff from the leader 0x0
2020-06-13 22:55:03,930 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - diff
2020-06-13 22:55:03,933 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30073
2020-06-13 22:55:03,942 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62137
2020-06-13 22:55:03,947 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:03,949 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:03,950 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-06-13 22:55:03,959 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:03,959 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:03,972 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:03,973 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000
2020-06-13 22:55:04,009 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:04,009 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:04,009 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:04,009 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:04,009 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:04,012 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:04,195 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30073
2020-06-13 22:55:04,199 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62166
2020-06-13 22:55:04,199 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-06-13 22:55:04,200 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:04,201 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62167
2020-06-13 22:55:04,201 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-13 22:55:04,203 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testSessionEstablishment
2020-06-13 22:55:04,203 [myid:] - INFO  [Time-limited test:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled)
2020-06-13 22:55:04,204 [myid:] - INFO  [Time-limited test:Leader@837] - Shutting down
2020-06-13 22:55:04,204 [myid:] - INFO  [Time-limited test:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:04,204 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30077:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,204 [myid:] - INFO  [Time-limited test:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:04,205 [myid:] - INFO  [Time-limited test:RequestThrottler@252] - Shutting down
2020-06-13 22:55:04,205 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:04,205 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:04,205 [myid:] - INFO  [Time-limited test:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:04,205 [myid:] - INFO  [Time-limited test:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:04,206 [myid:] - INFO  [Time-limited test:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:04,206 [myid:] - INFO  [Time-limited test:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:04,206 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:04,206 [myid:] - INFO  [Time-limited test:CommitProcessor@692] - Shutting down
2020-06-13 22:55:04,206 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:04,206 [myid:] - INFO  [Time-limited test:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:04,207 [myid:] - INFO  [Time-limited test:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:04,207 [myid:] - INFO  [Time-limited test:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:04,207 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:04,208 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:04,208 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:04,208 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:04,208 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:04,208 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30076:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:04,208 [myid:] - WARN  [LearnerHandler-/127.0.0.1:62135:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:62135 ********
2020-06-13 22:55:04,209 [myid:] - WARN  [LearnerHandler-/127.0.0.1:62135:LearnerHandler@1150] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1148)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:782)
2020-06-13 22:55:04,208 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30077). Was connected for 300ms. Sync state: true
2020-06-13 22:55:04,209 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:04,209 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:04,209 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:04,209 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:04,210 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:04,210 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:04,210 [myid:] - INFO  [Time-limited test:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled)
2020-06-13 22:55:04,210 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:04,210 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:04,210 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:04,210 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:04,211 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:04,210 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:04,210 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:04,210 [myid:] - INFO  [Time-limited test:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) to exit thread
2020-06-13 22:55:04,210 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:04,211 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:04,212 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:04,212 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:04,212 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:04,212 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:04,212 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:04,212 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:04,213 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:04,213 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:04,213 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:04,213 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:04,214 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:04,214 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:04,215 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:04,215 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:04,215 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:04,215 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:04,215 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:04,215 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:04,215 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:04,216 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2
2020-06-13 22:55:04,217 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x0
2020-06-13 22:55:04,218 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:04,219 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:zookeeper.version=3.6.1-SNAPSHOT-88650b8fe4a8dd606149302d55bdd69353408da9, built on 06/13/2020 14:54 GMT
2020-06-13 22:55:04,219 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:host.name=192.168.1.102
2020-06-13 22:55:04,219 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:java.version=1.8.0_181
2020-06-13 22:55:04,219 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:java.vendor=Oracle Corporation
2020-06-13 22:55:04,219 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30078
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,219 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,219 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk8.jdk/Contents/Home/jre
2020-06-13 22:55:04,220 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:java.class.path=/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/test-classes:/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/classes:/Users/dylan/environment/repo/com/github/spotbugs/spotbugs-annotations/3.1.9/spotbugs-annotations-3.1.9.jar:/Users/dylan/environment/repo/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/dylan/environment/repo/org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar:/Users/dylan/environment/repo/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/dylan/environment/repo/commons-lang/commons-lang/2.6/commons-lang-2.6.jar:/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-jute/target/zookeeper-jute-3.6.1-SNAPSHOT.jar:/Users/dylan/environment/repo/commons-cli/commons-cli/1.2/commons-cli-1.2.jar:/Users/dylan/environment/repo/org/apache/yetus/audience-annotations/0.5.0/audience-annotations-0.5.0.jar:/Users/dylan/environment/repo/io/netty/netty-handler/4.1.45.Final/netty-handler-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-common/4.1.45.Final/netty-common-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-buffer/4.1.45.Final/netty-buffer-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-transport/4.1.45.Final/netty-transport-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-resolver/4.1.45.Final/netty-resolver-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-codec/4.1.45.Final/netty-codec-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-transport-native-epoll/4.1.45.Final/netty-transport-native-epoll-4.1.45.Final.jar:/Users/dylan/environment/repo/io/netty/netty-transport-native-unix-common/4.1.45.Final/netty-transport-native-unix-common-4.1.45.Final.jar:/Users/dylan/environment/repo/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/Users/dylan/environment/repo/org/slf4j/slf4j-log4j12/1.7.25/slf4j-log4j12-1.7.25.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-server/9.4.24.v20191120/jetty-server-9.4.24.v20191120.jar:/Users/dylan/environment/repo/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-http/9.4.24.v20191120/jetty-http-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-util/9.4.24.v20191120/jetty-util-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-io/9.4.24.v20191120/jetty-io-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-servlet/9.4.24.v20191120/jetty-servlet-9.4.24.v20191120.jar:/Users/dylan/environment/repo/org/eclipse/jetty/jetty-security/9.4.24.v20191120/jetty-security-9.4.24.v20191120.jar:/Users/dylan/environment/repo/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar:/Users/dylan/environment/repo/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar:/Users/dylan/environment/repo/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar:/Users/dylan/environment/repo/com/googlecode/json-simple/json-simple/1.1.1/json-simple-1.1.1.jar:/Users/dylan/environment/repo/org/bouncycastle/bcprov-jdk15on/1.60/bcprov-jdk15on-1.60.jar:/Users/dylan/environment/repo/org/bouncycastle/bcpkix-jdk15on/1.60/bcpkix-jdk15on-1.60.jar:/Users/dylan/environment/repo/jline/jline/2.11/jline-2.11.jar:/Users/dylan/environment/repo/io/dropwizard/metrics/metrics-core/3.2.5/metrics-core-3.2.5.jar:/Users/dylan/environment/repo/log4j/log4j/1.2.17/log4j-1.2.17.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-core/2.0.0/kerb-core-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-pkix/2.0.0/kerby-pkix-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-asn1/2.0.0/kerby-asn1-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-util/2.0.0/kerby-util-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-simplekdc/2.0.0/kerb-simplekdc-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-client/2.0.0/kerb-client-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-common/2.0.0/kerb-common-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-crypto/2.0.0/kerb-crypto-2.0.0.jar:/Users/dylan/environment/repo/commons-io/commons-io/2.6/commons-io-2.6.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-util/2.0.0/kerb-util-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/token-provider/2.0.0/token-provider-2.0.0.jar:/Users/dylan/environment/repo/com/nimbusds/nimbus-jose-jwt/4.41.2/nimbus-jose-jwt-4.41.2.jar:/Users/dylan/environment/repo/com/github/stephenc/jcip/jcip-annotations/1.0-1/jcip-annotations-1.0-1.jar:/Users/dylan/environment/repo/net/minidev/json-smart/2.3/json-smart-2.3.jar:/Users/dylan/environment/repo/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/Users/dylan/environment/repo/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-admin/2.0.0/kerb-admin-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-server/2.0.0/kerb-server-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerb-identity/2.0.0/kerb-identity-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-xdr/2.0.0/kerby-xdr-2.0.0.jar:/Users/dylan/environment/repo/org/apache/kerby/kerby-config/2.0.0/kerby-config-2.0.0.jar:/Users/dylan/environment/repo/org/mockito/mockito-core/2.27.0/mockito-core-2.27.0.jar:/Users/dylan/environment/repo/net/bytebuddy/byte-buddy/1.9.10/byte-buddy-1.9.10.jar:/Users/dylan/environment/repo/net/bytebuddy/byte-buddy-agent/1.9.10/byte-buddy-agent-1.9.10.jar:/Users/dylan/environment/repo/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/Users/dylan/environment/repo/org/jmockit/jmockit/1.48/jmockit-1.48.jar:/Users/dylan/environment/repo/junit/junit/4.12/junit-4.12.jar:/Users/dylan/environment/repo/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/Users/dylan/environment/repo/org/xerial/snappy/snappy-java/1.1.7/snappy-java-1.1.7.jar:
2020-06-13 22:55:04,220 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:java.library.path=/Users/dylan/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2020-06-13 22:55:04,220 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:java.io.tmpdir=/var/folders/ff/jrkzw6gx39jd5s2rmrzy1tc00000gn/T/
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:java.compiler=<NA>
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:os.name=Mac OS X
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:os.arch=x86_64
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:os.version=10.13.6
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:user.name=dylan
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:user.home=/Users/dylan
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:user.dir=/Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:os.memory.free=191MB
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:os.memory.max=455MB
2020-06-13 22:55:04,221 [myid:] - INFO  [Time-limited test:Environment@98] - Client environment:os.memory.total=245MB
2020-06-13 22:55:04,223 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30073,127.0.0.1:30076,127.0.0.1:30079 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@7418d711
2020-06-13 22:55:04,228 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:04,234 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:04,242 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30073.
2020-06-13 22:55:04,242 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:04,245 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:62171, server: localhost/127.0.0.1:30073
2020-06-13 22:55:04,249 [myid:] - WARN  [NIOWorkerThread-4:NIOServerCnxn@395] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:569)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:349)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:557)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:163)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,250 [myid:127.0.0.1:30073] - WARN  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30073, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:04,420 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@1013] - Notification time out: 400
2020-06-13 22:55:04,420 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30078
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,420 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,821 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@1013] - Notification time out: 800
2020-06-13 22:55:04,821 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30078
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,821 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:04,908 [myid:127.0.0.1:30079] - INFO  [Time-limited test-SendThread(127.0.0.1:30079):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30079.
2020-06-13 22:55:04,908 [myid:127.0.0.1:30079] - INFO  [Time-limited test-SendThread(127.0.0.1:30079):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:04,909 [myid:127.0.0.1:30079] - WARN  [Time-limited test-SendThread(127.0.0.1:30079):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30079, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:05,100 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:05,626 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@1013] - Notification time out: 1600
2020-06-13 22:55:05,626 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30078
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:05,626 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:05,782 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30076.
2020-06-13 22:55:05,782 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:05,782 [myid:127.0.0.1:30076] - WARN  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30076, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:06,227 [myid:] - INFO  [Thread-7:ReadOnlyZooKeeperServer@79] - Read-only server started
2020-06-13 22:55:06,681 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:06,693 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:07,012 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30073.
2020-06-13 22:55:07,012 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:07,013 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:62347, server: localhost/127.0.0.1:30073
2020-06-13 22:55:07,020 [myid:] - INFO  [ProcessThread(sid:1 cport:-1)::ZKAuditProvider@42] - ZooKeeper audit is disabled.
2020-06-13 22:55:07,028 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30073, session id = 0x1003c3b06050000, negotiated timeout = 30000 (READ-ONLY mode)
2020-06-13 22:55:07,031 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30079 for being r/w. Timeout 200
2020-06-13 22:55:07,031 [myid:] - INFO  [Time-limited test:ReadOnlyModeTest@208] - Connected as r/o mode with state CONNECTEDREADONLY and session id 72123818239655936
2020-06-13 22:55:07,031 [myid:] - INFO  [Time-limited test:QuorumUtil@208] - Creating QuorumPeer 2; public port 30076
2020-06-13 22:55:07,032 [myid:] - INFO  [Time-limited test:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:07,032 [myid:] - WARN  [Time-limited test:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:07,032 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:07,032 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30076
2020-06-13 22:55:07,033 [myid:] - INFO  [Time-limited test:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:07,033 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:07,034 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:07,034 [myid:] - INFO  [Time-limited test:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:07,034 [myid:] - INFO  [Time-limited test:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:07,034 [myid:] - WARN  [Time-limited test:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:07,035 [myid:] - INFO  [Time-limited test:FileSnap@85] - Reading snapshot /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2/snapshot.0
2020-06-13 22:55:07,037 [myid:] - INFO  [Time-limited test:DataTree@1767] - The digest value is empty in snapshot
2020-06-13 22:55:07,040 [myid:] - INFO  [Time-limited test:ZKDatabase@289] - Snapshot loaded in 6 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:07,041 [myid:] - INFO  [Time-limited test:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:07,042 [myid:] - INFO  [Time-limited test:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:07,042 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:07,043 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30078:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30078
2020-06-13 22:55:07,044 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:07,044 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:07,044 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:07,045 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62350
2020-06-13 22:55:07,045 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:07,045 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,045 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,045 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:07,045 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:07,045 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:07,046 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:07,046 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:07,046 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:07,046 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:07,046 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:07,046 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2
2020-06-13 22:55:07,046 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:07,048 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,048 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:62351
2020-06-13 22:55:07,051 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:07,051 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,052 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,054 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,054 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,056 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,056 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:07,056 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,057 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,057 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:07,236 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30076 for being r/w. Timeout 400
2020-06-13 22:55:07,237 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing isro command from /127.0.0.1:62369
2020-06-13 22:55:07,259 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:07,259 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:07,259 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:07,260 [myid:] - INFO  [Thread-8:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:07,260 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:07,260 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:07,260 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,261 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,261 [myid:127.0.0.1:30073] - WARN  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1360] - Session 0x1003c3b06050000 for sever localhost/127.0.0.1:30073, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b06050000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:07,261 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:07,261 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:07,261 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:07,261 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:07,261 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:07,262 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:07,261 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:07,262 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:07,262 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:07,270 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:07,270 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:07,270 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:07,270 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:07,270 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2
2020-06-13 22:55:07,270 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 224 MS
2020-06-13 22:55:07,269 [myid:] - INFO  [ReadOnlyRequestProcessor:1:ReadOnlyRequestProcessor@109] - ReadOnlyRequestProcessor exited loop!
2020-06-13 22:55:07,262 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:07,271 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:07,271 [myid:] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:07,273 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:07,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:07,273 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2/snapshot.0
2020-06-13 22:55:07,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:07,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:07,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,273 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,274 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:07,274 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:07,274 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:07,274 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:07,274 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:07,274 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 2 ms
2020-06-13 22:55:07,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:07,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:07,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:07,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2
2020-06-13 22:55:07,275 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3058 MS
2020-06-13 22:55:07,277 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:07,278 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30077:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30077
2020-06-13 22:55:07,281 [myid:] - INFO  [LearnerHandler-/127.0.0.1:62377:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30074:30075:participant;127.0.0.1:30073
2020-06-13 22:55:07,289 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:07,289 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:07,289 [myid:] - ERROR [LearnerHandler-/127.0.0.1:62377:LearnerHandler@757] - Unexpected exception causing shutdown while sock still open
java.io.IOException: Follower is ahead of the leader, leader summary: 1 (current epoch), 0 (last zxid)
	at org.apache.zookeeper.server.quorum.Leader.waitForEpochAck(Leader.java:1536)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:572)
2020-06-13 22:55:07,290 [myid:] - WARN  [LearnerHandler-/127.0.0.1:62377:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:62377 ********
2020-06-13 22:55:07,290 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:537)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:121)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:07,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30077). Was connected for 11ms. Sync state: false
2020-06-13 22:55:07,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:07,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:07,291 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:07,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:07,291 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:07,292 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:07,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:07,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2
2020-06-13 22:55:07,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x1
2020-06-13 22:55:07,296 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,296 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,297 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:07,300 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:07,300 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
???????org.apache.zookeeper.server.quorum.FastLeaderElection$Notification@46bdef55
2020-06-13 22:55:07,303 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62398
2020-06-13 22:55:07,506 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,506 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@1013] - Notification time out: 400
2020-06-13 22:55:07,507 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,507 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:07,507 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
???????org.apache.zookeeper.server.quorum.FastLeaderElection$Notification@3f2d1949
2020-06-13 22:55:07,558 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:07,560 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62451
2020-06-13 22:55:07,811 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:07,813 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62475
2020-06-13 22:55:07,911 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,915 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:07,915 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@1013] - Notification time out: 800
2020-06-13 22:55:07,916 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
???????org.apache.zookeeper.server.quorum.FastLeaderElection$Notification@584bc7f8
2020-06-13 22:55:07,917 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:08,067 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:08,069 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62500
2020-06-13 22:55:08,324 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:08,327 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62584
2020-06-13 22:55:08,579 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:08,581 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62604
2020-06-13 22:55:08,718 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:08,719 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@1013] - Notification time out: 1600
2020-06-13 22:55:08,719 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:08,720 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:08,721 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
???????org.apache.zookeeper.server.quorum.FastLeaderElection$Notification@1c15ef46
2020-06-13 22:55:08,803 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30073.
2020-06-13 22:55:08,804 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:08,804 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:62623, server: localhost/127.0.0.1:30073
2020-06-13 22:55:08,805 [myid:] - WARN  [NIOWorkerThread-7:NIOServerCnxn@395] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:569)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:349)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:557)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:163)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:08,806 [myid:127.0.0.1:30073] - WARN  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1360] - Session 0x1003c3b06050000 for sever localhost/127.0.0.1:30073, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b06050000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:08,833 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:08,834 [myid:] - INFO  [NIOWorkerThread-9:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62624
2020-06-13 22:55:09,089 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:09,092 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62712
2020-06-13 22:55:09,100 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:09,296 [myid:] - INFO  [Thread-12:ReadOnlyZooKeeperServer@79] - Read-only server started
2020-06-13 22:55:09,345 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:09,347 [myid:] - INFO  [NIOWorkerThread-11:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62733
2020-06-13 22:55:09,599 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:09,601 [myid:] - INFO  [NIOWorkerThread-12:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62768
2020-06-13 22:55:09,810 [myid:127.0.0.1:30079] - INFO  [Time-limited test-SendThread(127.0.0.1:30079):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30079.
2020-06-13 22:55:09,810 [myid:127.0.0.1:30079] - INFO  [Time-limited test-SendThread(127.0.0.1:30079):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:09,811 [myid:127.0.0.1:30079] - WARN  [Time-limited test-SendThread(127.0.0.1:30079):ClientCnxn$SendThread@1360] - Session 0x1003c3b06050000 for sever localhost/127.0.0.1:30079, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:09,853 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:09,856 [myid:] - INFO  [NIOWorkerThread-13:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62845
2020-06-13 22:55:10,109 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:10,111 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62862
2020-06-13 22:55:10,323 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:10,323 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FastLeaderElection@1013] - Notification time out: 3200
2020-06-13 22:55:10,324 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:10,324 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:10,325 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
???????org.apache.zookeeper.server.quorum.FastLeaderElection$Notification@35fb7cd6
2020-06-13 22:55:10,341 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30076.
2020-06-13 22:55:10,341 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:10,341 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:62935, server: localhost/127.0.0.1:30076
2020-06-13 22:55:10,342 [myid:] - WARN  [NIOWorkerThread-15:NIOServerCnxn@395] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:569)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:349)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:557)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:163)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:10,343 [myid:127.0.0.1:30076] - WARN  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1360] - Session 0x1003c3b06050000 for sever localhost/127.0.0.1:30076, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b06050000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:10,362 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:10,364 [myid:] - INFO  [NIOWorkerThread-16:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62936
2020-06-13 22:55:10,617 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:10,620 [myid:] - INFO  [NIOWorkerThread-17:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62951
2020-06-13 22:55:10,874 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:10,876 [myid:] - INFO  [NIOWorkerThread-18:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:62962
2020-06-13 22:55:11,127 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:11,133 [myid:] - INFO  [NIOWorkerThread-19:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63008
2020-06-13 22:55:11,384 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:11,387 [myid:] - INFO  [NIOWorkerThread-20:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63019
2020-06-13 22:55:11,641 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:11,644 [myid:] - INFO  [NIOWorkerThread-21:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63056
2020-06-13 22:55:11,895 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:11,899 [myid:] - INFO  [NIOWorkerThread-22:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63323
2020-06-13 22:55:12,127 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30073.
2020-06-13 22:55:12,128 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:12,128 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:63375, server: localhost/127.0.0.1:30073
2020-06-13 22:55:12,136 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30073, session id = 0x1003c3b12030000, negotiated timeout = 30000 (READ-ONLY mode)
2020-06-13 22:55:12,136 [myid:127.0.0.1:30073] - INFO  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30079 for being r/w. Timeout 800
2020-06-13 22:55:12,150 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:12,151 [myid:] - INFO  [NIOWorkerThread-23:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63381
2020-06-13 22:55:12,405 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:12,406 [myid:] - INFO  [NIOWorkerThread-24:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63474
2020-06-13 22:55:12,661 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:12,663 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63544
2020-06-13 22:55:12,914 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:12,915 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63583
2020-06-13 22:55:13,167 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:13,207 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63682
2020-06-13 22:55:13,293 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException: Timeout while waiting for epoch to be acked by quorum
	at org.apache.zookeeper.server.quorum.Leader.waitForEpochAck(Leader.java:1559)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:689)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:13,293 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:13,294 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Leader@843] - Shutdown called. For the reason Forcing shutdown
2020-06-13 22:55:13,294 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30077:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:13,294 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:13,295 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:13,295 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:13,295 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:13,295 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:13,295 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:13,295 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:13,295 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:13,295 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2
2020-06-13 22:55:13,296 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:13,298 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:13,298 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:13,459 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:13,463 [myid:] - INFO  [NIOWorkerThread-4:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63781
2020-06-13 22:55:13,502 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:13,503 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:13,503 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@1013] - Notification time out: 400
2020-06-13 22:55:13,649 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:13,714 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:13,719 [myid:] - INFO  [NIOWorkerThread-5:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63839
2020-06-13 22:55:13,904 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:13,904 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@1013] - Notification time out: 800
2020-06-13 22:55:13,904 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:13,905 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:13,970 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:13,971 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:63946
2020-06-13 22:55:14,224 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:14,226 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64112
2020-06-13 22:55:14,476 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:14,477 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64137
2020-06-13 22:55:14,707 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@1013] - Notification time out: 1600
2020-06-13 22:55:14,707 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:14,708 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:14,728 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:14,730 [myid:] - INFO  [NIOWorkerThread-9:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64164
2020-06-13 22:55:14,981 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:14,983 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64172
2020-06-13 22:55:15,210 [myid:] - WARN  [Thread-26:QuorumCnxManager$SendWorker@1353] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2020-06-13 22:55:15,210 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:15,211 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:15,211 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:15,211 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:15,210 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:15,212 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:15,212 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:15,212 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:15,234 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:15,235 [myid:] - INFO  [NIOWorkerThread-11:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64225
2020-06-13 22:55:15,305 [myid:] - INFO  [Thread-23:ReadOnlyZooKeeperServer@79] - Read-only server started
2020-06-13 22:55:15,489 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:15,491 [myid:] - INFO  [NIOWorkerThread-12:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64303
2020-06-13 22:55:15,491 [myid:] - INFO  [NIOWorkerThread-12:StatCommand@52] - Stat command output
2020-06-13 22:55:15,744 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:15,745 [myid:] - INFO  [NIOWorkerThread-13:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64350
2020-06-13 22:55:15,745 [myid:] - INFO  [NIOWorkerThread-13:StatCommand@52] - Stat command output
2020-06-13 22:55:15,858 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:16,001 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:16,002 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64530
2020-06-13 22:55:16,002 [myid:] - INFO  [NIOWorkerThread-14:StatCommand@52] - Stat command output
2020-06-13 22:55:16,253 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:16,254 [myid:] - INFO  [NIOWorkerThread-15:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64627
2020-06-13 22:55:16,254 [myid:] - INFO  [NIOWorkerThread-15:StatCommand@52] - Stat command output
2020-06-13 22:55:16,310 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FastLeaderElection@1013] - Notification time out: 3200
2020-06-13 22:55:16,311 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:16,311 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30075:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:64641
2020-06-13 22:55:16,315 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:16,315 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:16,316 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:16,316 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:1, n.round:0x3, n.peerEpoch:0x1, n.zxid:0x1, message format version:0x2, n.config version:0x0
2020-06-13 22:55:16,505 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:16,507 [myid:] - INFO  [NIOWorkerThread-16:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64664
2020-06-13 22:55:16,507 [myid:] - INFO  [NIOWorkerThread-16:StatCommand@52] - Stat command output
2020-06-13 22:55:16,516 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:16,517 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:16,517 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:16,518 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:16,518 [myid:127.0.0.1:30073] - WARN  [Time-limited test-SendThread(127.0.0.1:30073):ClientCnxn$SendThread@1360] - Session 0x1003c3b12030000 for sever localhost/127.0.0.1:30073, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b12030000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:16,519 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:16,519 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:16,520 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:16,520 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:16,520 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:16,520 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:16,520 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:16,520 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:16,521 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:16,521 [myid:] - INFO  [ReadOnlyRequestProcessor:2:ReadOnlyRequestProcessor@109] - ReadOnlyRequestProcessor exited loop!
2020-06-13 22:55:16,521 [myid:] - INFO  [ReadOnlyRequestProcessor:1:ReadOnlyRequestProcessor@109] - ReadOnlyRequestProcessor exited loop!
2020-06-13 22:55:16,520 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:16,521 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:16,521 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:16,521 [myid:] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:16,521 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:16,522 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:16,522 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:16,522 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:16,522 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:16,522 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:16,523 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:16,524 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2
2020-06-13 22:55:16,525 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2
2020-06-13 22:55:16,525 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 3228 MS
2020-06-13 22:55:16,525 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 9231 MS
2020-06-13 22:55:16,525 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:16,525 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:16,525 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x1 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test5987503916734283011.junit.dir/version-2/snapshot.1
2020-06-13 22:55:16,526 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 2 ms
2020-06-13 22:55:16,527 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30074:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30074
2020-06-13 22:55:16,528 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64666:LearnerHandler@514] - Follower sid: 2 : info : 127.0.0.1:30077:30078:participant;127.0.0.1:30076
2020-06-13 22:55:16,530 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:16,530 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64666:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:16,531 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64666:LearnerHandler@861] - Synchronizing with Learner sid: 2 maxCommittedLog=0x1 minCommittedLog=0x1 lastProcessedZxid=0x1 peerLastZxid=0x0
2020-06-13 22:55:16,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:16,532 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64666:LearnerHandler@600] - Sending snapshot last zxid of peer is 0x0, zxid of leader is 0x300000000, send zxid of db as 0x1, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-06-13 22:55:16,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - snap
2020-06-13 22:55:16,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Learner@547] - Getting a snapshot from leader 0x1
2020-06-13 22:55:16,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:16,533 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:16,535 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:16,535 [myid:] - ERROR [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1869] - setLastSeenQuorumVerifier called with stale config 4294967296. Current version: 0
2020-06-13 22:55:16,535 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:16,536 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x1 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3255680862409180487.junit.dir/version-2/snapshot.1
2020-06-13 22:55:16,537 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 1 ms
2020-06-13 22:55:16,538 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x300000000
2020-06-13 22:55:16,538 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:16,538 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:16,539 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:16,540 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:16,540 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:16,540 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:16,540 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:16,540 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:16,542 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:16,758 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:16,759 [myid:] - INFO  [NIOWorkerThread-17:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64712
2020-06-13 22:55:16,759 [myid:] - INFO  [NIOWorkerThread-17:StatCommand@52] - Stat command output
2020-06-13 22:55:16,760 [myid:] - INFO  [Time-limited test:ReadOnlyModeTest@215] - Server 127.0.0.1:30076 is up
2020-06-13 22:55:16,816 [myid:] - WARN  [Thread-27:QuorumCnxManager$SendWorker@1353] - destination address /127.0.0.1 not reachable anymore, shutting down the SendWorker for sid 1
2020-06-13 22:55:16,817 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:16,817 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:16,817 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:16,818 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:16,817 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:16,818 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:16,819 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:16,819 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:17,025 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30076.
2020-06-13 22:55:17,026 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:17,026 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:64743, server: localhost/127.0.0.1:30076
2020-06-13 22:55:17,030 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@191] - Got zxid 0x300000001 expected 0x1
2020-06-13 22:55:17,030 [myid:] - INFO  [SyncThread:1:FileTxnLog@288] - Creating new log file: log.300000001
2020-06-13 22:55:17,031 [myid:] - INFO  [SyncThread:2:FileTxnLog@288] - Creating new log file: log.300000001
2020-06-13 22:55:17,041 [myid:] - INFO  [CommitProcessor:1:LeaderSessionTracker@105] - Committing global session 0x2003c3b2e4b0000
2020-06-13 22:55:17,041 [myid:] - INFO  [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x2003c3b2e4b0000
2020-06-13 22:55:17,042 [myid:127.0.0.1:30076] - INFO  [Time-limited test-SendThread(127.0.0.1:30076):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30076, session id = 0x2003c3b2e4b0000, negotiated timeout = 30000
2020-06-13 22:55:17,042 [myid:] - INFO  [Time-limited test:ReadOnlyModeTest@224] - Connected as rw mode with state CONNECTED and session id 144181412953260032
2020-06-13 22:55:17,054 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@161] - Submitting global closeSession request for session 0x2003c3b2e4b0000
2020-06-13 22:55:17,103 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:17,103 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:17,159 [myid:] - INFO  [Time-limited test:ZooKeeper@1657] - Session: 0x2003c3b2e4b0000 closed
2020-06-13 22:55:17,159 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@580] - EventThread shut down for session: 0x2003c3b2e4b0000
2020-06-13 22:55:17,163 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 27751
2020-06-13 22:55:17,163 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 88
2020-06-13 22:55:17,163 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testSessionEstablishment
2020-06-13 22:55:17,163 [myid:] - INFO  [main:QuorumUtil@309] - TearDown started
2020-06-13 22:55:17,164 [myid:] - INFO  [main:QuorumUtil@313] - fdcount after test is: 121
2020-06-13 22:55:17,165 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled)
2020-06-13 22:55:17,165 [myid:] - INFO  [main:Leader@837] - Shutting down
2020-06-13 22:55:17,165 [myid:] - INFO  [main:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:17,165 [myid:] - INFO  [main:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:17,165 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30074:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:17,168 [myid:] - INFO  [main:RequestThrottler@252] - Shutting down
2020-06-13 22:55:17,168 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:17,168 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:17,169 [myid:] - INFO  [main:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:17,169 [myid:] - INFO  [main:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:17,169 [myid:] - INFO  [main:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:17,169 [myid:] - INFO  [main:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:17,169 [myid:] - INFO  [main:CommitProcessor@692] - Shutting down
2020-06-13 22:55:17,169 [myid:] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:17,169 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:17,169 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:17,170 [myid:] - INFO  [main:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:17,170 [myid:] - INFO  [main:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:17,170 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:17,172 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:17,172 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64666:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:64666 ********
2020-06-13 22:55:17,172 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64666:LearnerHandler@1150] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1148)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:782)
2020-06-13 22:55:17,173 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30074). Was connected for 646ms. Sync state: true
2020-06-13 22:55:17,173 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:17,173 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:17,173 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:17,173 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:17,173 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30073:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:17,174 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:17,175 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:17,175 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:17,175 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:17,175 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:17,177 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:17,179 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:17,179 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:17,179 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:17,175 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:17,179 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:17,178 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled)
2020-06-13 22:55:17,179 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30073)(secure=disabled) to exit thread
2020-06-13 22:55:17,180 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled)
2020-06-13 22:55:17,180 [myid:] - INFO  [main:Follower@318] - shutdown Follower
2020-06-13 22:55:17,179 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:17,180 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:17,180 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:17,180 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:17,180 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:17,181 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:17,181 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:17,182 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:17,182 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:17,182 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:17,182 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:17,182 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:17,183 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:17,183 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30076:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:17,185 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:17,186 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled)
2020-06-13 22:55:17,186 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30076)(secure=disabled) to exit thread
2020-06-13 22:55:17,186 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:17,186 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:17,186 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:17,186 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30073
2020-06-13 22:55:17,602 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30073 is no longer accepting client connections
2020-06-13 22:55:17,602 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30076
2020-06-13 22:55:17,603 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30076 is no longer accepting client connections
2020-06-13 22:55:17,603 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30079
2020-06-13 22:55:17,604 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30079 is no longer accepting client connections
2020-06-13 22:55:17,605 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testSessionEstablishment
2020-06-13 22:55:17,606 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testSessionEstablishment
2020-06-13 22:55:17,607 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTE5Mi4xNjguMS4xMDIAAPJRxtdQFRCL+CpgxO1LAAABcq4tSRyACgB4
2020-06-13 22:55:17,614 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30082 from range 30072 - 32764.
2020-06-13 22:55:17,614 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30083 from range 30072 - 32764.
2020-06-13 22:55:17,614 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30084 from range 30072 - 32764.
2020-06-13 22:55:17,615 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30085 from range 30072 - 32764.
2020-06-13 22:55:17,615 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30086 from range 30072 - 32764.
2020-06-13 22:55:17,615 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30087 from range 30072 - 32764.
2020-06-13 22:55:17,616 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30088 from range 30072 - 32764.
2020-06-13 22:55:17,616 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30089 from range 30072 - 32764.
2020-06-13 22:55:17,616 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30090 from range 30072 - 32764.
2020-06-13 22:55:17,616 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30082
2020-06-13 22:55:17,617 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:17,617 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:17,617 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:17,617 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30082
2020-06-13 22:55:17,617 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:17,618 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,618 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,618 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:17,619 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:17,619 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:17,619 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30085
2020-06-13 22:55:17,619 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:17,619 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:17,619 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:17,620 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30085
2020-06-13 22:55:17,620 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:17,621 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,621 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,621 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:17,621 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:17,621 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:17,621 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30088
2020-06-13 22:55:17,621 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:17,621 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:17,621 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:17,622 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30088
2020-06-13 22:55:17,622 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:17,622 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,622 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,623 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:17,623 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:17,623 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:17,623 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testSeekForRwServer
2020-06-13 22:55:17,623 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:17,624 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:17,624 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:17,624 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:17,624 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:17,624 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:17,625 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:17,625 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:17,625 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:17,625 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:17,625 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30082 is no longer accepting client connections
2020-06-13 22:55:17,625 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30085
2020-06-13 22:55:17,626 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30085 is no longer accepting client connections
2020-06-13 22:55:17,626 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30088
2020-06-13 22:55:17,626 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30088 is no longer accepting client connections
2020-06-13 22:55:17,626 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30082
2020-06-13 22:55:17,627 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:17,627 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:17,627 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:17,627 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30082
2020-06-13 22:55:17,627 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:17,628 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,628 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,628 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:17,628 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:17,628 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:17,629 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:17,629 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2/snapshot.0
2020-06-13 22:55:17,632 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 3 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:17,633 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:17,633 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:17,638 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:17,640 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:17,641 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1101] - 1 is accepting connections now, my election bind port: /127.0.0.1:30084
2020-06-13 22:55:17,644 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30085
2020-06-13 22:55:17,644 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:17,644 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:17,645 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:17,645 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30085
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:17,645 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:17,646 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:17,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:17,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:17,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2
2020-06-13 22:55:17,646 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,646 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x0
2020-06-13 22:55:17,646 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:17,647 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:17,647 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:17,647 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:17,647 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:17,647 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:17,648 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2/snapshot.0
2020-06-13 22:55:17,649 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30087
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:17,649 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:17,649 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:17,650 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:17,651 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:17,653 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:17,653 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:17,654 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:17,654 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30087
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:17,655 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:17,656 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:17,656 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:17,656 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:17,656 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:17,656 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2
2020-06-13 22:55:17,656 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:64843
2020-06-13 22:55:17,656 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:17,657 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:17,658 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:64844
2020-06-13 22:55:17,658 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:17,659 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:17,659 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:17,660 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:17,661 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:17,661 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:17,861 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:17,861 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:17,861 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:17,861 [myid:] - INFO  [Thread-32:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:17,861 [myid:] - INFO  [Thread-31:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:17,861 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,861 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:17,862 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 206 MS
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:17,863 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:17,864 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:17,864 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:17,864 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:17,864 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2/snapshot.0
2020-06-13 22:55:17,864 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:17,864 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:17,866 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2
2020-06-13 22:55:17,866 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 2 ms
2020-06-13 22:55:17,866 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 220 MS
2020-06-13 22:55:17,866 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:17,868 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30086
2020-06-13 22:55:17,869 [myid:] - INFO  [LearnerHandler-/127.0.0.1:65007:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30083:30084:participant;127.0.0.1:30082
2020-06-13 22:55:17,871 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:17,871 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:17,871 [myid:] - INFO  [LearnerHandler-/127.0.0.1:65007:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:17,871 [myid:] - INFO  [LearnerHandler-/127.0.0.1:65007:LearnerHandler@861] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-13 22:55:17,871 [myid:] - INFO  [LearnerHandler-/127.0.0.1:65007:LearnerHandler@916] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-13 22:55:17,873 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:17,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@542] - Getting a diff from the leader 0x0
2020-06-13 22:55:17,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - diff
2020-06-13 22:55:17,874 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:17,875 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:17,876 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-06-13 22:55:17,876 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:17,876 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:17,878 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:17,878 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:17,879 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:17,879 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:17,879 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:17,879 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:17,880 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:17,907 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:17,909 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:65038
2020-06-13 22:55:17,909 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-13 22:55:17,910 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30085
2020-06-13 22:55:17,911 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:65047
2020-06-13 22:55:17,911 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-13 22:55:17,912 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testSeekForRwServer
2020-06-13 22:55:17,912 [myid:] - INFO  [Time-limited test:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled)
2020-06-13 22:55:17,913 [myid:] - INFO  [Time-limited test:Leader@837] - Shutting down
2020-06-13 22:55:17,913 [myid:] - INFO  [Time-limited test:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:17,913 [myid:] - INFO  [Time-limited test:ZooKeeperServer@807] - shutting down
Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:17,913 [myid:] - INFO  [Time-limited test:RequestThrottler@252] - Shutting down
2020-06-13 22:55:17,915 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:17,915 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:17,915 [myid:] - INFO  [Time-limited test:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:17,915 [myid:] - INFO  [Time-limited test:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:17,915 [myid:] - INFO  [Time-limited test:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:17,915 [myid:] - INFO  [Time-limited test:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:17,915 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:17,915 [myid:] - INFO  [Time-limited test:CommitProcessor@692] - Shutting down
2020-06-13 22:55:17,916 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:17,916 [myid:] - INFO  [Time-limited test:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:17,916 [myid:] - INFO  [Time-limited test:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:17,916 [myid:] - INFO  [Time-limited test:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:17,916 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:17,917 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:17,918 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:17,918 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30085:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:17,917 [myid:] - WARN  [LearnerHandler-/127.0.0.1:65007:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:65007 ********
2020-06-13 22:55:17,918 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:17,918 [myid:] - WARN  [LearnerHandler-/127.0.0.1:65007:2020-06-13 22:55:17,918 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:17,918 [myid:] - WARN  [LearnerHandler-/127.0.0.1:65007:LearnerHandler@1150] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1148)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:782)
2020-06-13 22:55:17,919 [myid:2020-06-13 22:55:17,919 [myid:] - INFO  [QuorumPeerListener:] - INFO QuorumCnxManager$Listener@ [1013] - Leaving listener
2020-06-13 22:55:17,919 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 50ms. Sync state: true
QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:17,920 [myid:] - INFO  [Time-limited test:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled)
QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
 [myid:] - WARN  [RecvWorker:1:2020-06-13 22:55:17,920 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:17,920 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:17,920 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:17,921 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:17,921 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:17,921 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:17,921 [myid:] - INFO  [Time-limited test:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) to exit thread
2020-06-13 22:55:17,921 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:17,922 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:17,922 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:17,921 [myid:] - WARN  [SendWorker:1:INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@QuorumCnxManager$SendWorker807@] - 1335] - Send worker leaving thread id 1 my id = 2
shutting down
 [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):2020-06-13 22:55:17,921 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:17,922 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:17,923 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:17,923 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:17,923 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:17,923 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:17,923 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:17,923 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:17,923 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:17,923 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:17,923 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:17,923 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:17,924 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30082,127.0.0.1:30085,127.0.0.1:30088 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@1fd0823e
2020-06-13 22:55:17,924 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:17,924 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:17,924 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:17,924 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:17,924 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:17,925 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:17,925 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2
2020-06-13 22:55:17,926 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x0
2020-06-13 22:55:17,927 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30088.
2020-06-13 22:55:17,927 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:17,927 [myid:127.0.0.1:30088] - WARN  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30088, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:17,928 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:17,928 [myid:] - 2020-06-13 22:55:17,929 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30087
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:17,929 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:18,029 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30082.
2020-06-13 22:55:18,029 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:18,030 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:65135, server: localhost/127.0.0.1:30082
2020-06-13 22:55:18,031 [myid:] - WARN  [NIOWorkerThread-3:NIOServerCnxn@395] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:569)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:349)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:557)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:163)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:18,031 [myid:127.0.0.1:30082] - WARN  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30082, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:18,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@1013] - Notification time out: 400
2020-06-13 22:55:18,531 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@1013] - Notification time out: 800
2020-06-13 22:55:18,901 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30085.
2020-06-13 22:55:18,901 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:19,104 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:19,105 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:19,316 [myid:2020-06-13 22:55:19,316 [myid:] - ] - INFO  [WorkerSender[myid=2]INFO  [:WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:19,316 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:19,316 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:19,325 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:19,332 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@1013] - Notification time out: 1600
2020-06-13 22:55:19,758 [myid:127.0.0.1:30085] - WARN  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30085, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:19,932 [myid:] - INFO  [Thread-36:ReadOnlyZooKeeperServer@79] - Read-only server started
2020-06-13 22:55:20,658 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:20,661 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:20,933 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FastLeaderElection@1013] - Notification time out: 3200
2020-06-13 22:55:21,312 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30081
java.net.SocketTimeoutException: connect timed out
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:21,609 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30088.
2020-06-13 22:55:21,609 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:21,609 [myid:127.0.0.1:30088] - WARN  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30088, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:22,232 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:22,232 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30087
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:22,391 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30082.
2020-06-13 22:55:22,391 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:22,392 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:50325, server: localhost/127.0.0.1:30082
2020-06-13 22:55:22,393 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30082, session id = 0x1003c3b3b8f0000, negotiated timeout = 30000 (READ-ONLY mode)
2020-06-13 22:55:22,393 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30085 for being r/w. Timeout 200
2020-06-13 22:55:22,393 [myid:] - INFO  [Time-limited test:QuorumUtil@208] - Creating QuorumPeer 2; public port 30085
2020-06-13 22:55:22,393 [myid:] - INFO  [Time-limited test:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:22,394 [myid:] - WARN  [Time-limited test:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:22,394 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:22,395 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30085
2020-06-13 22:55:22,395 [myid:] - INFO  [Time-limited test:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:22,395 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:22,395 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:22,395 [myid:] - INFO  [Time-limited test:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:22,395 [myid:] - INFO  [Time-limited test:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:22,395 [myid:] - WARN  [Time-limited test:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:22,396 [myid:] - INFO  [Time-limited test:FileSnap@85] - Reading snapshot /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2/snapshot.0
2020-06-13 22:55:22,396 [myid:] - INFO  [Time-limited test:DataTree@1767] - The digest value is empty in snapshot
2020-06-13 22:55:22,396 [myid:] - INFO  [Time-limited test:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:22,397 [myid:] - INFO  [Time-limited test:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:22,397 [myid:] - INFO  [Time-limited test:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:22,398 [myid:] - INFO  [Time-limited test:QuorumUtil@208] - Creating QuorumPeer 3; public port 30088
2020-06-13 22:55:22,398 [myid:] - INFO  [Time-limited test:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:22,398 [myid:] - WARN  [Time-limited test:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:22,398 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30087
2020-06-13 22:55:22,398 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:22,398 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30088
2020-06-13 22:55:22,398 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:22,398 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:22,398 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:22,398 [myid:] - INFO  [Time-limited test:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:22,398 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,399 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:22,399 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:22,399 [myid:] - INFO  [Time-limited test:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:22,399 [myid:] - INFO  [Time-limited test:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:22,399 [myid:] - WARN  [Time-limited test:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:22,399 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2
2020-06-13 22:55:22,399 [myid:] - INFO  [Time-limited test:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:22,400 [myid:] - INFO  [Time-limited test:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4751836276437038688.junit.dir/version-2/snapshot.0
2020-06-13 22:55:22,400 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:22,400 [myid:] - INFO  [Time-limited test:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:22,400 [myid:] - INFO  [Time-limited test:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:22,400 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,401 [myid:] - INFO  [Time-limited test:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:22,401 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:50327
2020-06-13 22:55:22,402 [myid:] - INFO  [Time-limited test:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:22,403 [myid:] - INFO  [Time-limited test:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:22,403 [myid:] - INFO  [WorkerReceiver[myid=2]:2020-06-13 22:55:22,403 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,403 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,403 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30090
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:22,404 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:22,404 [myid:QuorumCnxManager$Listener$ListenerHandler@] - 1101] - 3 is accepting connections now, my election bind port: /127.0.0.1:30090
2020-06-13 22:55:22,404 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,404 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:22,405 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:22,405 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:22,406 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:22,406 [myid:] - INFO  [NIOWorkerThread-6:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50330
2020-06-13 22:55:22,406 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4751836276437038688.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4751836276437038688.junit.dir/version-2
2020-06-13 22:55:22,406 [myid:] - INFO  [NIOWorkerThread-6:StatCommand@52] - Stat command output
2020-06-13 22:55:22,406 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FastLeaderElection@967] - New election. My id = 3, proposed zxid=0x0
2020-06-13 22:55:22,407 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,408 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30090:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:50332
2020-06-13 22:55:22,408 [myid:] - INFO  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@524] - Have smaller server identifier, so dropping the connection: (myId:2 --> sid:3)
2020-06-13 22:55:22,410 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30087:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:50334
2020-06-13 22:55:22,410 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30084:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:50333
2020-06-13 22:55:22,413 [myid:] - INFO  [WorkerReceiver[myid=3]:2020-06-13 22:55:22,413FastLeaderElection$Messenger$WorkerReceiver@ [myid:394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,413 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,414 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,415 [myid:] - INFO] - INFO  [  [WorkerReceiver[myid=3]:WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,415 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,418 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,419 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,419 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:22,595 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30088 for being r/w. Timeout 400
2020-06-13 22:55:22,599 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing isro command from /127.0.0.1:50406
2020-06-13 22:55:22,619 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:22,620 [myid:2020-06-13 22:55:22,620 [myid:] - INFO  [Thread-37:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:22,620 [myid:] - INFO  [Thread-37:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:22,621 [myid:2020-06-13 22:55:22,621 [myid:] - INFO  [] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:22,621 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:22,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:22,621 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):2020-06-13 22:55:22,622 [myid:] - INFO  [Thread-40:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,622 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):2020-06-13 22:55:22,623 [myid:Leader@598] - LEADING - LEADER ELECTION TOOK - 224 MS
2020-06-13 22:55:22,623 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:22,624 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:22,624 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4751836276437038688.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4751836276437038688.junit.dir/version-2
2020-06-13 22:55:22,624 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:22,624 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 218 MS
2020-06-13 22:55:22,624 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test3145406559313065869.junit.dir/version-2/snapshot.0
2020-06-13 22:55:22,624 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:22,625 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 2 ms
2020-06-13 22:55:22,626 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30086
2020-06-13 22:55:22,627 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50411:LearnerHandler@514] - Follower sid: 3 : info : 127.0.0.1:30089:30090:participant;127.0.0.1:30088
2020-06-13 22:55:22,629 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:22,629 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50411:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:22,629 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50411:LearnerHandler@861] - Synchronizing with Learner sid: 3 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-13 22:55:22,629 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50411:LearnerHandler@916] - Sending DIFF zxid=0x0 for peer sid: 3
2020-06-13 22:55:22,630 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:22,631 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@542] - Getting a diff from the leader 0x0
2020-06-13 22:55:22,631 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - diff
2020-06-13 22:55:22,632 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:22,632 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:22,633 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[2, 3],[2, 3]]; starting up and setting last processed zxid: 0x200000000
2020-06-13 22:55:22,633 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:22,634 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:22,634 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:22,635 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:22,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:22,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:22,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:22,635 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:22,636 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:22,662 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:22,663 [myid:] - INFO  [NIOWorkerThread-7:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50417
2020-06-13 22:55:22,663 [myid:] - INFO  [NIOWorkerThread-7:StatCommand@52] - Stat command output
2020-06-13 22:55:22,916 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:22,919 [myid:] - INFO  [NIOWorkerThread-8:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50431
2020-06-13 22:55:22,919 [myid:] - INFO  [NIOWorkerThread-8:StatCommand@52] - Stat command output
2020-06-13 22:55:23,001 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30082 for being r/w. Timeout 800
2020-06-13 22:55:23,005 [myid:] - INFO  [NIOWorkerThread-9:NIOServerCnxn@531] - Processing isro command from /127.0.0.1:50434
2020-06-13 22:55:23,170 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:23,177 [myid:] - INFO  [NIOWorkerThread-10:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50505
2020-06-13 22:55:23,177 [myid:] - INFO  [NIOWorkerThread-10:StatCommand@52] - Stat command output
2020-06-13 22:55:23,430 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:23,431 [myid:] - INFO  [NIOWorkerThread-11:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50518
2020-06-13 22:55:23,432 [myid:] - INFO  [NIOWorkerThread-11:StatCommand@52] - Stat command output
2020-06-13 22:55:23,683 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:23,684 [myid:] - INFO  [NIOWorkerThread-12:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50581
2020-06-13 22:55:23,685 [myid:] - INFO  [NIOWorkerThread-12:StatCommand@52] - Stat command output
2020-06-13 22:55:23,810 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30085 for being r/w. Timeout 1600
2020-06-13 22:55:23,812 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing isro command from /127.0.0.1:50591
2020-06-13 22:55:23,812 [myid:127.0.0.1:30082] - WARN  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1360] - Session 0x1003c3b3b8f0000 for sever localhost/127.0.0.1:30082, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
org.apache.zookeeper.ClientCnxn$RWServerFoundException: Majority server found at 127.0.0.1:30085
	at org.apache.zookeeper.ClientCnxn$SendThread.pingRwServer(ClientCnxn.java:1445)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1344)
2020-06-13 22:55:23,813 [myid:] - WARN  [NIOWorkerThread-13:NIOServerCnxn@386] - Unexpected exception
EndOfStreamException: Unable to read additional data from client, it probably closed the socket: address = /127.0.0.1:50325, session = 0x1003c3b3b8f0000
	at org.apache.zookeeper.server.NIOServerCnxn.handleFailedRead(NIOServerCnxn.java:163)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:339)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:557)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:163)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:23,930 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30085.
2020-06-13 22:55:23,931 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:23,933 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:50601, server: localhost/127.0.0.1:30085
2020-06-13 22:55:23,937 [myid:] - INFO  [SyncThread:2:FileTxnLog@288] - Creating new log file: log.200000001
2020-06-13 22:55:23,938 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@191] - Got zxid 0x200000001 expected 0x1
2020-06-13 22:55:23,938 [myid:] - INFO  [SyncThread:3:FileTxnLog@288] - Creating new log file: log.200000001
2020-06-13 22:55:23,940 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:23,940 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@105] - Committing global session 0x2003c3b461e0000
2020-06-13 22:55:23,940 [myid:] - INFO  [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x2003c3b461e0000
2020-06-13 22:55:23,941 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50611
2020-06-13 22:55:23,941 [myid:] - INFO  [NIOWorkerThread-14:StatCommand@52] - Stat command output
2020-06-13 22:55:23,942 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30085, session id = 0x2003c3b461e0000, negotiated timeout = 30000
2020-06-13 22:55:24,193 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:24,201 [myid:] - INFO  [NIOWorkerThread-15:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50674
2020-06-13 22:55:24,202 [myid:] - INFO  [NIOWorkerThread-15:StatCommand@52] - Stat command output
2020-06-13 22:55:24,457 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:24,465 [myid:] - INFO  [NIOWorkerThread-16:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50713
2020-06-13 22:55:24,465 [myid:] - INFO  [NIOWorkerThread-16:StatCommand@52] - Stat command output
2020-06-13 22:55:24,473 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,473 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LEADING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,474 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,474 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:FOLLOWING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x0, message format version:0x2, n.config version:0x0
???????org.apache.zookeeper.server.quorum.FastLeaderElection$Notification@a49ed23
2020-06-13 22:55:24,475 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:2, n.round:0x2, n.peerEpoch:0x2, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,475 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:24,475 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:24,475 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:24,475 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:24,475 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:24,476 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:24,476 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:24,476 [myid:] - INFO  [ReadOnlyRequestProcessor:1:ReadOnlyRequestProcessor@109] - ReadOnlyRequestProcessor exited loop!
2020-06-13 22:55:24,476 [myid:] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:24,476 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:24,477 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:24,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:24,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:24,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test8308216624616383496.junit.dir/version-2
2020-06-13 22:55:24,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 6551 MS
2020-06-13 22:55:24,478 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:24,481 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 49301
2020-06-13 22:55:24,481 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 107
2020-06-13 22:55:24,481 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testSeekForRwServer
2020-06-13 22:55:24,481 [myid:] - INFO  [main:QuorumUtil@309] - TearDown started
2020-06-13 22:55:24,481 [myid:] - INFO  [main:QuorumUtil@313] - fdcount after test is: 143
2020-06-13 22:55:24,482 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled)
2020-06-13 22:55:24,482 [myid:] - INFO  [main:Follower@318] - shutdown Follower
2020-06-13 22:55:24,482 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:24,483 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30082:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:24,483 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,483 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,483 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@292] - Interrupted while trying to connect to Leader
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:998)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)
	at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)
	at org.apache.zookeeper.server.quorum.Learner.connectToLeader(Learner.java:290)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:88)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:24,484 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:24,484 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30086:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30086
2020-06-13 22:55:24,484 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,485 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,486 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 3, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,486 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled)
2020-06-13 22:55:24,485 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,485 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:24,485 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,484 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,487 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:24,487 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 3 my id = 1
2020-06-13 22:55:24,487 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled) to exit thread
2020-06-13 22:55:24,487 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 1
2020-06-13 22:55:24,487 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30083:30084:participant;127.0.0.1:30082
2020-06-13 22:55:24,486 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 3
2020-06-13 22:55:24,488 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,487 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:24,489 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:24,489 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,490 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 3
2020-06-13 22:55:24,490 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:24,491 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:24,491 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@861] - Synchronizing with Learner sid: 1 maxCommittedLog=0x200000002 minCommittedLog=0x200000001 lastProcessedZxid=0x200000002 peerLastZxid=0x1
2020-06-13 22:55:24,492 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50723:ZKDatabase@394] - Unable to find proposals from txnlog for zxid: 0x1
2020-06-13 22:55:24,492 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@600] - Sending snapshot last zxid of peer is 0x1, zxid of leader is 0x200000002, send zxid of db as 0x200000002, 1 concurrent snapshot sync, snapshot sync was exempt from throttle
2020-06-13 22:55:24,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - snap
2020-06-13 22:55:24,492 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Learner@547] - Getting a snapshot from leader 0x200000002
2020-06-13 22:55:24,493 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,493 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,496 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:24,498 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:24,499 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:24,501 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:24,502 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 17ms. Sync state: true
2020-06-13 22:55:24,502 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:24,502 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:24,502 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:24,502 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:24,502 [myid:] - ERROR [LearnerHandler-/127.0.0.1:50723:LearnerHandler@757] - Unexpected exception causing shutdown while sock still open
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:689)
2020-06-13 22:55:24,502 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:24,502 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50723:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:50723 ********
2020-06-13 22:55:24,502 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:24,503 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:24,503 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:24,503 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:24,503 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:24,503 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:24,503 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):LearnerZooKeeperServer@164] - Ignoring unexpected exception during shutdown
java.lang.NullPointerException
	at org.apache.zookeeper.server.persistence.FileTxnSnapLog.fastForwardFromEdits(FileTxnSnapLog.java:326)
	at org.apache.zookeeper.server.ZKDatabase.fastForwardDataBase(ZKDatabase.java:300)
	at org.apache.zookeeper.server.ZooKeeperServer.shutdown(ZooKeeperServer.java:844)
	at org.apache.zookeeper.server.ZooKeeperServer.shutdown(ZooKeeperServer.java:795)
	at org.apache.zookeeper.server.quorum.LearnerZooKeeperServer.shutdown(LearnerZooKeeperServer.java:162)
	at org.apache.zookeeper.server.quorum.Learner.shutdown(Learner.java:841)
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:319)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1504)
2020-06-13 22:55:24,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:24,504 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:24,504 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:24,504 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:24,504 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30082)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:24,504 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled)
2020-06-13 22:55:24,504 [myid:] - INFO  [main:Leader@837] - Shutting down
2020-06-13 22:55:24,504 [myid:] - INFO  [main:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:24,505 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30086:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:24,505 [myid:] - INFO  [main:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:24,505 [myid:127.0.0.1:30085] - WARN  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30085, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x2003c3b461e0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:24,506 [myid:] - INFO  [main:RequestThrottler@252] - Shutting down
2020-06-13 22:55:24,506 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:24,506 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:24,506 [myid:] - INFO  [main:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:24,507 [myid:] - INFO  [main:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:24,507 [myid:] - INFO  [main:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:24,507 [myid:] - INFO  [main:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:24,507 [myid:] - INFO  [main:CommitProcessor@692] - Shutting down
2020-06-13 22:55:24,507 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:24,507 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:24,507 [myid:] - INFO  [main:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:24,507 [myid:] - INFO  [main:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:24,507 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:24,507 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:24,508 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:24,509 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:24,509 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50411:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:50411 ********
2020-06-13 22:55:24,509 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30085:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:24,510 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30086). Was connected for 1882ms. Sync state: true
2020-06-13 22:55:24,510 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,510 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50411:LearnerHandler@1150] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1148)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:782)
2020-06-13 22:55:24,510 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,510 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:24,510 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:24,510 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:24,510 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:24,511 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:24,511 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:24,510 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:24,511 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:24,512 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:24,512 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 3, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,512 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 3
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,512 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,512 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:24,514 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:24,514 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 3 my id = 2
2020-06-13 22:55:24,514 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 3
2020-06-13 22:55:24,514 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 3. myId: 2
2020-06-13 22:55:24,513 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled)
2020-06-13 22:55:24,513 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:24,516 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30085)(secure=disabled) to exit thread
2020-06-13 22:55:24,515 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,516 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled)
2020-06-13 22:55:24,517 [myid:] - INFO  [main:Follower@318] - shutdown Follower
2020-06-13 22:55:24,516 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:24,516 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 3
2020-06-13 22:55:24,517 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:24,517 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:24,517 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:24,517 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:24,518 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:24,518 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:24,518 [myid:] - INFO  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:24,518 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:24,519 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,518 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:24,519 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,519 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30088:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:24,519 [myid:] - WARN  [QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:24,519 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:24,520 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled)
2020-06-13 22:55:24,520 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=3](plain=127.0.0.1:30088)(secure=disabled) to exit thread
2020-06-13 22:55:24,521 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30082
2020-06-13 22:55:24,521 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30082 is no longer accepting client connections
2020-06-13 22:55:24,521 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30085
2020-06-13 22:55:24,521 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30085 is no longer accepting client connections
2020-06-13 22:55:24,522 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30088
2020-06-13 22:55:24,522 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30088 is no longer accepting client connections
2020-06-13 22:55:24,523 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testSeekForRwServer
2020-06-13 22:55:24,523 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testSeekForRwServer
2020-06-13 22:55:24,524 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTE5Mi4xNjguMS4xMDIAAPJRRHpdQalXb8BgxO1LAAABcq4tSRyAEQB4
2020-06-13 22:55:24,530 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30091 from range 30072 - 32764.
2020-06-13 22:55:24,533 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30092 from range 30072 - 32764.
2020-06-13 22:55:24,533 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30093 from range 30072 - 32764.
2020-06-13 22:55:24,534 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30094 from range 30072 - 32764.
2020-06-13 22:55:24,535 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30095 from range 30072 - 32764.
2020-06-13 22:55:24,535 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30096 from range 30072 - 32764.
2020-06-13 22:55:24,536 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30097 from range 30072 - 32764.
2020-06-13 22:55:24,536 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30098 from range 30072 - 32764.
2020-06-13 22:55:24,536 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30099 from range 30072 - 32764.
2020-06-13 22:55:24,536 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30091
2020-06-13 22:55:24,536 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:24,536 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:24,536 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:24,537 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30091
2020-06-13 22:55:24,537 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:24,537 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,537 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,538 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:24,538 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:24,538 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:24,538 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30094
2020-06-13 22:55:24,538 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:24,538 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:24,538 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:24,541 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30094
2020-06-13 22:55:24,541 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:24,542 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,542 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,542 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:24,542 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:24,542 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:24,543 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30097
2020-06-13 22:55:24,543 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:24,543 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:24,543 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:24,544 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30097
2020-06-13 22:55:24,544 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:24,545 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,545 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,545 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:24,545 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:24,545 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:24,546 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testReadOnlyClient
2020-06-13 22:55:24,546 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:24,547 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:24,547 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:24,547 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:24,547 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:24,548 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:24,548 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:24,549 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:24,550 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:24,551 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30091
2020-06-13 22:55:24,554 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30091 is no longer accepting client connections
2020-06-13 22:55:24,554 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30094
2020-06-13 22:55:24,554 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30094 is no longer accepting client connections
2020-06-13 22:55:24,555 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30097
2020-06-13 22:55:24,555 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30097 is no longer accepting client connections
2020-06-13 22:55:24,555 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30091
2020-06-13 22:55:24,555 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:24,555 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:24,556 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:24,556 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30091
2020-06-13 22:55:24,556 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:24,557 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,557 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,557 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:24,557 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:24,557 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:24,558 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:24,558 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2/snapshot.0
2020-06-13 22:55:24,559 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:24,559 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:24,560 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:24,561 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:24,562 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:24,563 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30094
2020-06-13 22:55:24,563 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1101] - 1 is accepting connections now, my election bind port: /127.0.0.1:30093
2020-06-13 22:55:24,564 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:24,564 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:24,565 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:24,565 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:24,565 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:24,565 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:24,565 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,565 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,565 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:24,565 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:24,566 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30094
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:24,566 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2
2020-06-13 22:55:24,566 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:24,567 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x0
2020-06-13 22:55:24,567 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,567 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:24,567 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:24,567 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:24,567 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:24,568 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,568 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:24,568 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:24,568 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2/snapshot.0
2020-06-13 22:55:24,568 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:24,569 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:24,570 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:24,571 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:24,572 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:24,572 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:24,573 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30091
2020-06-13 22:55:24,574 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30096
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:24,574 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:24,575 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:24,575 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:24,575 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:24,575 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:24,575 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2
2020-06-13 22:55:24,575 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:24,576 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,578 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:50743
2020-06-13 22:55:24,578 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:24,580 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50742
2020-06-13 22:55:24,580 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,580 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,581 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,581 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,581 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:24,786 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:24,786 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:24,786 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:24,786 [myid:] - INFO  [Thread-54:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:24,786 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:24,786 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:24,786 [myid:] - INFO  [Thread-53:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:24,786 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:24,786 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:24,787 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 214 MS
2020-06-13 22:55:24,788 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:24,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2
2020-06-13 22:55:24,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 222 MS
2020-06-13 22:55:24,789 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:24,789 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2/snapshot.0
2020-06-13 22:55:24,789 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:24,791 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 2 ms
2020-06-13 22:55:24,791 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30095:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30095
2020-06-13 22:55:24,793 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50866:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30092:30093:participant;127.0.0.1:30091
2020-06-13 22:55:24,795 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:24,795 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:24,795 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50866:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:24,795 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50866:LearnerHandler@861] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-13 22:55:24,795 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50866:LearnerHandler@916] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-13 22:55:24,796 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:24,797 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@542] - Getting a diff from the leader 0x0
2020-06-13 22:55:24,797 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - diff
2020-06-13 22:55:24,797 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:24,798 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:24,799 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-06-13 22:55:24,799 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:24,799 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:24,800 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:24,801 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:24,801 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:24,801 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:24,801 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:24,801 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:24,802 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):MBeanRegistry@110] - Failed to register MBean InMemoryDataTree
2020-06-13 22:55:24,802 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):LearnerZooKeeperServer@104] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:106)
	at org.apache.zookeeper.server.quorum.LearnerZooKeeperServer.registerJMX(LearnerZooKeeperServer.java:102)
	at org.apache.zookeeper.server.ZooKeeperServer.startup(ZooKeeperServer.java:684)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:750)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:121)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:24,803 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:24,834 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30091
2020-06-13 22:55:24,836 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50870
2020-06-13 22:55:24,836 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-13 22:55:24,837 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30094
2020-06-13 22:55:24,839 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:50871
2020-06-13 22:55:24,839 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-13 22:55:24,840 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testReadOnlyClient
2020-06-13 22:55:24,840 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30091,127.0.0.1:30094,127.0.0.1:30097 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@7e1ae830
2020-06-13 22:55:24,841 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:24,841 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:24,843 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30091.
2020-06-13 22:55:24,843 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:24,846 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:50872, server: localhost/127.0.0.1:30091
2020-06-13 22:55:24,849 [myid:] - INFO  [SyncThread:2:FileTxnLog@288] - Creating new log file: log.100000001
2020-06-13 22:55:24,849 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@191] - Got zxid 0x100000001 expected 0x1
2020-06-13 22:55:24,849 [myid:] - INFO  [SyncThread:1:FileTxnLog@288] - Creating new log file: log.100000001
2020-06-13 22:55:24,850 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@105] - Committing global session 0x1003c3b4e920000
2020-06-13 22:55:24,850 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x1003c3b4e920000
2020-06-13 22:55:24,852 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30091, session id = 0x1003c3b4e920000, negotiated timeout = 30000
2020-06-13 22:55:24,856 [myid:] - INFO  [Time-limited test:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled)
2020-06-13 22:55:24,856 [myid:] - INFO  [Time-limited test:Leader@837] - Shutting down
2020-06-13 22:55:24,856 [myid:] - INFO  [Time-limited test:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:24,856 [myid:] - INFO  [Time-limited test:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:24,856 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30095:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:24,857 [myid:] - INFO  [Time-limited test:RequestThrottler@252] - Shutting down
2020-06-13 22:55:24,857 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:24,857 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:24,858 [myid:] - INFO  [Time-limited test:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:24,858 [myid:] - INFO  [Time-limited test:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:24,858 [myid:] - INFO  [Time-limited test:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:24,858 [myid:] - INFO  [Time-limited test:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:24,858 [myid:] - INFO  [Time-limited test:CommitProcessor@692] - Shutting down
2020-06-13 22:55:24,858 [myid:] - INFO  [Time-limited test:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:24,859 [myid:] - INFO  [Time-limited test:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:24,859 [myid:] - INFO  [Time-limited test:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:24,859 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:24,859 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:24,859 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:24,864 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:24,868 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:24,869 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30094:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:24,865 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50866:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:50866 ********
2020-06-13 22:55:24,869 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,869 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:24,868 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30095). Was connected for 76ms. Sync state: true
2020-06-13 22:55:24,869 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50866:LearnerHandler@1150] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1148)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:782)
2020-06-13 22:55:24,870 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:24,870 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:24,870 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:24,873 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,873 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:24,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:24,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:24,873 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:24,873 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,874 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:24,872 [myid:] - INFO  [Time-limited test:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled)
2020-06-13 22:55:24,874 [myid:] - INFO  [Time-limited test:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) to exit thread
2020-06-13 22:55:24,871 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:24,874 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:24,871 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:24,873 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:24,875 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:24,873 [myid:127.0.0.1:30091] - WARN  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1360] - Session 0x1003c3b4e920000 for sever localhost/127.0.0.1:30091, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b4e920000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:24,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:24,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:24,875 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:24,876 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:24,875 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:24,876 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:24,876 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:24,876 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:24,875 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:24,875 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:24,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:24,877 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:24,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:24,877 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:24,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:24,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:24,877 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:24,878 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2
2020-06-13 22:55:24,879 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x100000002
2020-06-13 22:55:24,881 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:24,881 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:24,881 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:25,078 [myid:] - INFO  [Time-limited test:ZooKeeper@1657] - Session: 0x1003c3b4e920000 closed
2020-06-13 22:55:25,078 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@580] - EventThread shut down for session: 0x1003c3b4e920000
2020-06-13 22:55:25,079 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30091,127.0.0.1:30094,127.0.0.1:30097 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@7e1ae830
2020-06-13 22:55:25,079 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:25,080 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:25,082 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@1013] - Notification time out: 400
2020-06-13 22:55:25,083 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:25,083 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:25,083 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30091.
2020-06-13 22:55:25,084 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:25,086 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:50934, server: localhost/127.0.0.1:30091
2020-06-13 22:55:25,087 [myid:] - WARN  [NIOWorkerThread-7:NIOServerCnxn@395] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:569)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:349)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:557)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:163)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:25,087 [myid:127.0.0.1:30091] - WARN  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30091, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:25,101 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:25,101 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:25,101 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:25,252 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30088.
2020-06-13 22:55:25,253 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:25,253 [myid:127.0.0.1:30088] - WARN  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30088, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:25,484 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@1013] - Notification time out: 800
2020-06-13 22:55:25,484 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:25,484 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:25,667 [myid:127.0.0.1:30097] - INFO  [Time-limited test-SendThread(127.0.0.1:30097):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30097.
2020-06-13 22:55:25,667 [myid:127.0.0.1:30097] - INFO  [Time-limited test-SendThread(127.0.0.1:30097):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:25,668 [myid:127.0.0.1:30097] - WARN  [Time-limited test-SendThread(127.0.0.1:30097):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30097, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:26,007 [myid:127.0.0.1:30094] - INFO  [Time-limited test-SendThread(127.0.0.1:30094):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30094.
2020-06-13 22:55:26,007 [myid:127.0.0.1:30094] - INFO  [Time-limited test-SendThread(127.0.0.1:30094):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:26,007 [myid:127.0.0.1:30094] - WARN  [Time-limited test-SendThread(127.0.0.1:30094):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30094, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:26,134 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30082.
2020-06-13 22:55:26,135 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:26,136 [myid:127.0.0.1:30082] - WARN  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30082, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:26,284 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FastLeaderElection@1013] - Notification time out: 1600
2020-06-13 22:55:26,285 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30096
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:26,285 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:26,883 [myid:] - INFO  [Thread-58:ReadOnlyZooKeeperServer@79] - Read-only server started
2020-06-13 22:55:27,338 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30091.
2020-06-13 22:55:27,338 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:27,339 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51351, server: localhost/127.0.0.1:30091
2020-06-13 22:55:27,341 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30091, session id = 0x1003c3b56b70000, negotiated timeout = 30000 (READ-ONLY mode)
2020-06-13 22:55:27,341 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30097 for being r/w. Timeout 200
2020-06-13 22:55:27,351 [myid:] - INFO  [Time-limited test:QuorumUtil@208] - Creating QuorumPeer 2; public port 30094
2020-06-13 22:55:27,351 [myid:] - INFO  [Time-limited test:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:27,351 [myid:] - WARN  [Time-limited test:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:27,352 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:27,352 [myid:] - INFO  [Time-limited test:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30094
2020-06-13 22:55:27,352 [myid:] - INFO  [Time-limited test:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:27,353 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:27,353 [myid:] - INFO  [Time-limited test:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:27,353 [myid:] - INFO  [Time-limited test:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:27,353 [myid:] - INFO  [Time-limited test:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:27,353 [myid:] - WARN  [Time-limited test:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:27,353 [myid:] - INFO  [Time-limited test:FileSnap@85] - Reading snapshot /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2/snapshot.0
2020-06-13 22:55:27,354 [myid:] - INFO  [Time-limited test:DataTree@1767] - The digest value is empty in snapshot
2020-06-13 22:55:27,355 [myid:] - INFO  [Time-limited test:FileTxnSnapLog@369] - 2 txns loaded in 1 ms
2020-06-13 22:55:27,355 [myid:] - INFO  [Time-limited test:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x100000002, digest is 5670287380
2020-06-13 22:55:27,355 [myid:] - INFO  [Time-limited test:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:27,356 [myid:] - INFO  [Time-limited test:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:27,357 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30094
2020-06-13 22:55:27,359 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:27,359 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:27,359 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:27,359 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:27,359 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:27,359 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:27,360 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30096:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30096
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:27,360 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2
2020-06-13 22:55:27,361 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51353
2020-06-13 22:55:27,362 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x100000002
2020-06-13 22:55:27,363 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,364 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30093:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:51354
2020-06-13 22:55:27,365 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:27,369 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,370 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,374 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,374 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,375 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,375 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:27,375 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,375 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:27,376 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30099
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:27,386 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30085.
2020-06-13 22:55:27,386 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:27,387 [myid:127.0.0.1:30085] - WARN  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30085, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:27,475 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:27,475 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:27,475 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:27,475 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:27,475 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:27,478 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:27,541 [myid:127.0.0.1:30091] - INFO  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30094 for being r/w. Timeout 400
2020-06-13 22:55:27,543 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing isro command from /127.0.0.1:51362
2020-06-13 22:55:27,577 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:27,577 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:27,578 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:27,579 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:27,579 [myid:] - INFO  [Thread-59:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:27,579 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:27,580 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:27,579 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:27,580 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:27,580 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:27,579 [myid:127.0.0.1:30091] - WARN  [Time-limited test-SendThread(127.0.0.1:30091):ClientCnxn$SendThread@1360] - Session 0x1003c3b56b70000 for sever localhost/127.0.0.1:30091, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b56b70000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:27,580 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:27,580 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:27,580 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:27,581 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:27,581 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:27,581 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:27,581 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:27,581 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:27,581 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:27,581 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:27,581 [myid:] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:27,581 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:27,581 [myid:] - INFO  [ReadOnlyRequestProcessor:1:ReadOnlyRequestProcessor@109] - ReadOnlyRequestProcessor exited loop!
2020-06-13 22:55:27,582 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:27,581 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:27,582 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:27,582 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:27,582 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 221 MS
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:27,583 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:27,584 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:27,584 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x100000002 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7643389760137210455.junit.dir/version-2/snapshot.100000002
2020-06-13 22:55:27,584 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:27,584 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:27,584 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test834675863363258782.junit.dir/version-2
2020-06-13 22:55:27,584 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 2705 MS
2020-06-13 22:55:27,587 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:27,587 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 4 ms
2020-06-13 22:55:27,588 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30095:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30095
2020-06-13 22:55:27,590 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51363:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30092:30093:participant;127.0.0.1:30091
2020-06-13 22:55:27,592 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:27,592 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:27,592 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51363:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:27,592 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51363:LearnerHandler@861] - Synchronizing with Learner sid: 1 maxCommittedLog=0x100000002 minCommittedLog=0x100000001 lastProcessedZxid=0x100000002 peerLastZxid=0x100000002
2020-06-13 22:55:27,593 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51363:LearnerHandler@916] - Sending DIFF zxid=0x100000002 for peer sid: 1
2020-06-13 22:55:27,593 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:27,594 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@542] - Getting a diff from the leader 0x100000002
2020-06-13 22:55:27,594 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - diff
2020-06-13 22:55:27,595 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:27,595 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:27,596 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x200000000
2020-06-13 22:55:27,597 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:27,597 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:27,597 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:27,598 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:27,598 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:27,598 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:27,599 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:27,599 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:27,600 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):MBeanRegistry@110] - Failed to register MBean InMemoryDataTree
2020-06-13 22:55:27,600 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):LearnerZooKeeperServer@104] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:106)
	at org.apache.zookeeper.server.quorum.LearnerZooKeeperServer.registerJMX(LearnerZooKeeperServer.java:102)
	at org.apache.zookeeper.server.ZooKeeperServer.startup(ZooKeeperServer.java:684)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:750)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:121)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:27,600 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:27,615 [myid:] - INFO  [Time-limited test:FourLetterWordMain@93] - connecting to 127.0.0.1 30094
2020-06-13 22:55:27,616 [myid:] - INFO  [NIOWorkerThread-3:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51364
2020-06-13 22:55:27,616 [myid:] - INFO  [NIOWorkerThread-3:StatCommand@52] - Stat command output
2020-06-13 22:55:27,784 [myid:] - INFO  [Time-limited test:ZooKeeper@1657] - Session: 0x1003c3b56b70000 closed
2020-06-13 22:55:27,784 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@580] - EventThread shut down for session: 0x1003c3b56b70000
2020-06-13 22:55:27,785 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30091,127.0.0.1:30094,127.0.0.1:30097 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@7e1ae830
2020-06-13 22:55:27,787 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:27,788 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:27,790 [myid:127.0.0.1:30097] - INFO  [Time-limited test-SendThread(127.0.0.1:30097):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30097.
2020-06-13 22:55:27,790 [myid:127.0.0.1:30097] - INFO  [Time-limited test-SendThread(127.0.0.1:30097):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:27,791 [myid:127.0.0.1:30097] - WARN  [Time-limited test-SendThread(127.0.0.1:30097):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30097, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:27,894 [myid:127.0.0.1:30094] - INFO  [Time-limited test-SendThread(127.0.0.1:30094):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30094.
2020-06-13 22:55:27,894 [myid:127.0.0.1:30094] - INFO  [Time-limited test-SendThread(127.0.0.1:30094):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:27,895 [myid:127.0.0.1:30094] - INFO  [Time-limited test-SendThread(127.0.0.1:30094):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51369, server: localhost/127.0.0.1:30094
2020-06-13 22:55:27,898 [myid:] - INFO  [SyncThread:2:FileTxnLog@288] - Creating new log file: log.200000001
2020-06-13 22:55:27,898 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@191] - Got zxid 0x200000001 expected 0x1
2020-06-13 22:55:27,901 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@105] - Committing global session 0x2003c3b59810000
2020-06-13 22:55:27,901 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x2003c3b59810000
2020-06-13 22:55:27,902 [myid:127.0.0.1:30094] - INFO  [Time-limited test-SendThread(127.0.0.1:30094):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30094, session id = 0x2003c3b59810000, negotiated timeout = 30000
2020-06-13 22:55:27,907 [myid:] - INFO  [RequestThrottler:QuorumZooKeeperServer@161] - Submitting global closeSession request for session 0x2003c3b59810000
2020-06-13 22:55:28,009 [myid:] - INFO  [Time-limited test:ZooKeeper@1657] - Session: 0x2003c3b59810000 closed
2020-06-13 22:55:28,009 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@580] - EventThread shut down for session: 0x2003c3b59810000
2020-06-13 22:55:28,009 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 64864
2020-06-13 22:55:28,010 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 91
2020-06-13 22:55:28,010 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testReadOnlyClient
2020-06-13 22:55:28,010 [myid:] - INFO  [main:QuorumUtil@309] - TearDown started
2020-06-13 22:55:28,010 [myid:] - INFO  [main:QuorumUtil@313] - fdcount after test is: 126
2020-06-13 22:55:28,010 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled)
2020-06-13 22:55:28,010 [myid:] - INFO  [main:Follower@318] - shutdown Follower
2020-06-13 22:55:28,010 [myid:] - INFO  [main:LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:28,010 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@149] - Exception when following the leader
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:28,010 [myid:] - INFO  [main:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:28,010 [myid:] - ERROR [LearnerHandler-/127.0.0.1:51363:LearnerHandler@757] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:689)
2020-06-13 22:55:28,011 [myid:] - INFO  [main:RequestThrottler@252] - Shutting down
2020-06-13 22:55:28,011 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30095). Was connected for 422ms. Sync state: true
2020-06-13 22:55:28,011 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:28,011 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51363:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:51363 ********
2020-06-13 22:55:28,012 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:28,012 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:28,012 [myid:] - INFO  [main:FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:28,012 [myid:] - INFO  [main:CommitProcessor@692] - Shutting down
2020-06-13 22:55:28,012 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:28,012 [myid:] - INFO  [main:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:28,012 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:28,013 [myid:] - INFO  [main:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:28,013 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:28,014 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:28,014 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:28,014 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:28,014 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:28,014 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:28,014 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30091:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:28,014 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:28,015 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:28,015 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:28,016 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:28,016 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled)
2020-06-13 22:55:28,016 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:28,015 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:28,016 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30091)(secure=disabled) to exit thread
2020-06-13 22:55:28,017 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled)
2020-06-13 22:55:28,017 [myid:] - INFO  [main:Leader@837] - Shutting down
2020-06-13 22:55:28,017 [myid:] - INFO  [main:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:28,016 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:28,016 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:28,017 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30095:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:28,017 [myid:] - INFO  [main:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:28,018 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:28,018 [myid:] - INFO  [main:RequestThrottler@252] - Shutting down
2020-06-13 22:55:28,018 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:28,019 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:28,019 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:28,019 [myid:] - INFO  [main:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:28,019 [myid:] - INFO  [main:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:28,019 [myid:] - INFO  [main:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:28,019 [myid:] - INFO  [main:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:28,019 [myid:] - INFO  [main:CommitProcessor@692] - Shutting down
2020-06-13 22:55:28,019 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:28,020 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:28,020 [myid:] - INFO  [main:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:28,020 [myid:] - INFO  [main:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:28,020 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:28,020 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:28,021 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:28,022 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30094:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:28,022 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:28,022 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:28,023 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:28,023 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:28,024 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:28,024 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled)
2020-06-13 22:55:28,024 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:28,024 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:28,024 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:28,024 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30094)(secure=disabled) to exit thread
2020-06-13 22:55:28,024 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:28,025 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:28,025 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:28,025 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30091
2020-06-13 22:55:28,025 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30091 is no longer accepting client connections
2020-06-13 22:55:28,025 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30094
2020-06-13 22:55:28,026 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30094 is no longer accepting client connections
2020-06-13 22:55:28,026 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30097
2020-06-13 22:55:28,026 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30097 is no longer accepting client connections
2020-06-13 22:55:28,027 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testReadOnlyClient
2020-06-13 22:55:28,027 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testReadOnlyClient
2020-06-13 22:55:28,029 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTE5Mi4xNjguMS4xMDIAAPJRUoOOXxcA1spgxO1LAAABcq4tSRyAGAB4
2020-06-13 22:55:28,035 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30100 from range 30072 - 32764.
2020-06-13 22:55:28,036 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30101 from range 30072 - 32764.
2020-06-13 22:55:28,036 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30102 from range 30072 - 32764.
2020-06-13 22:55:28,036 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30103 from range 30072 - 32764.
2020-06-13 22:55:28,037 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30104 from range 30072 - 32764.
2020-06-13 22:55:28,037 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30105 from range 30072 - 32764.
2020-06-13 22:55:28,038 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30106 from range 30072 - 32764.
2020-06-13 22:55:28,038 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30107 from range 30072 - 32764.
2020-06-13 22:55:28,038 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30108 from range 30072 - 32764.
2020-06-13 22:55:28,038 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30100
2020-06-13 22:55:28,038 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:28,039 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:28,039 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:28,039 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30100
2020-06-13 22:55:28,039 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:28,040 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,040 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,040 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:28,040 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:28,041 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:28,041 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30103
2020-06-13 22:55:28,041 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:28,041 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:28,041 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:28,042 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30103
2020-06-13 22:55:28,042 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:28,044 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,045 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,046 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:28,047 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:28,047 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:28,048 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30106
2020-06-13 22:55:28,048 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:28,048 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:28,048 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:28,048 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30106
2020-06-13 22:55:28,049 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:28,049 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,049 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,050 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:28,050 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:28,050 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:28,050 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testConnectionEvents
2020-06-13 22:55:28,050 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:28,051 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:28,052 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30100
2020-06-13 22:55:28,052 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30100 is no longer accepting client connections
2020-06-13 22:55:28,052 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30103
2020-06-13 22:55:28,053 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30103 is no longer accepting client connections
2020-06-13 22:55:28,053 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30106
2020-06-13 22:55:28,053 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30106 is no longer accepting client connections
2020-06-13 22:55:28,053 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30100
2020-06-13 22:55:28,054 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:28,054 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:28,054 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:28,054 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30100
2020-06-13 22:55:28,054 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:28,055 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,055 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,055 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:28,055 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:28,055 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:28,056 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:28,056 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2739680689543270445.junit.dir/version-2/snapshot.0
2020-06-13 22:55:28,057 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:28,057 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:28,058 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:28,059 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:28,060 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:28,061 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30103
2020-06-13 22:55:28,061 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:28,061 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30102:QuorumCnxManager$Listener$ListenerHandler@1101] - 1 is accepting connections now, my election bind port: /127.0.0.1:30102
2020-06-13 22:55:28,061 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:28,062 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:28,062 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:28,062 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:28,062 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:28,062 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:28,062 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30103
2020-06-13 22:55:28,062 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,062 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,063 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:28,063 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:28,063 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:28,063 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:28,063 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:28,063 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:28,063 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:28,063 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,064 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:28,064 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:28,064 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:28,064 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:28,064 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:28,064 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2739680689543270445.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2739680689543270445.junit.dir/version-2
2020-06-13 22:55:28,065 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:28,065 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x0
2020-06-13 22:55:28,065 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:28,066 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2729103395457006150.junit.dir/version-2/snapshot.0
2020-06-13 22:55:28,066 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:28,066 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 2 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:28,067 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30105
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:28,067 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:28,067 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:28,068 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:28,069 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:28,070 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:28,071 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30100
2020-06-13 22:55:28,071 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30105:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30105
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:28,072 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51387
2020-06-13 22:55:28,072 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:28,073 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2729103395457006150.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2729103395457006150.junit.dir/version-2
2020-06-13 22:55:28,073 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:28,074 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:28,075 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30102:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:51388
2020-06-13 22:55:28,075 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:28,076 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:28,076 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:28,077 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:28,077 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:28,078 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:28,277 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:28,278 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:28,278 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:28,278 [myid:] - INFO  [Thread-66:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:28,278 [myid:] - INFO  [Thread-67:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:28,278 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:28,278 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:28,278 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:28,278 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:28,279 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2739680689543270445.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2739680689543270445.junit.dir/version-2
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 215 MS
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:28,280 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2729103395457006150.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2729103395457006150.junit.dir/version-2
2020-06-13 22:55:28,281 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:28,281 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 208 MS
2020-06-13 22:55:28,281 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:28,281 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2729103395457006150.junit.dir/version-2/snapshot.0
2020-06-13 22:55:28,282 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30104:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30104
2020-06-13 22:55:28,283 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 2 ms
2020-06-13 22:55:28,285 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51396:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30101:30102:participant;127.0.0.1:30100
2020-06-13 22:55:28,286 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:28,287 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:28,287 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51396:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:28,287 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51396:LearnerHandler@861] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-13 22:55:28,287 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51396:LearnerHandler@916] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-13 22:55:28,288 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:28,288 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Learner@542] - Getting a diff from the leader 0x0
2020-06-13 22:55:28,289 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - diff
2020-06-13 22:55:28,289 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:28,290 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:28,291 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-06-13 22:55:28,291 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:28,291 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:28,292 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:28,292 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:28,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:28,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:28,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:28,293 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:28,294 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):MBeanRegistry@110] - Failed to register MBean InMemoryDataTree
2020-06-13 22:55:28,294 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):LearnerZooKeeperServer@104] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:106)
	at org.apache.zookeeper.server.quorum.LearnerZooKeeperServer.registerJMX(LearnerZooKeeperServer.java:102)
	at org.apache.zookeeper.server.ZooKeeperServer.startup(ZooKeeperServer.java:684)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:750)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:121)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:28,294 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:28,326 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30100
2020-06-13 22:55:28,328 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51399
2020-06-13 22:55:28,328 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-13 22:55:28,329 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30103
2020-06-13 22:55:28,331 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51400
2020-06-13 22:55:28,331 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-13 22:55:28,332 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testConnectionEvents
2020-06-13 22:55:28,332 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30100,127.0.0.1:30103,127.0.0.1:30106 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@9fef342
2020-06-13 22:55:28,333 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:28,333 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:28,336 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30106.
2020-06-13 22:55:28,336 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:28,337 [myid:127.0.0.1:30106] - WARN  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30106, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:28,384 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30088.
2020-06-13 22:55:28,384 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:28,385 [myid:127.0.0.1:30088] - WARN  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30088, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:28,440 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30100.
2020-06-13 22:55:28,440 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:28,441 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51408, server: localhost/127.0.0.1:30100
2020-06-13 22:55:28,444 [myid:] - INFO  [SyncThread:2:FileTxnLog@288] - Creating new log file: log.100000001
2020-06-13 22:55:28,444 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Follower@191] - Got zxid 0x100000001 expected 0x1
2020-06-13 22:55:28,444 [myid:] - INFO  [SyncThread:1:FileTxnLog@288] - Creating new log file: log.100000001
2020-06-13 22:55:28,445 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@105] - Committing global session 0x1003c3b5c350000
2020-06-13 22:55:28,445 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x1003c3b5c350000
2020-06-13 22:55:28,447 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30100, session id = 0x1003c3b5c350000, negotiated timeout = 30000
2020-06-13 22:55:28,999 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30082.
2020-06-13 22:55:28,999 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:29,000 [myid:127.0.0.1:30082] - WARN  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30082, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:29,100 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:29,101 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:29,444 [myid:] - INFO  [Time-limited test:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled)
2020-06-13 22:55:29,445 [myid:] - INFO  [Time-limited test:Leader@837] - Shutting down
2020-06-13 22:55:29,445 [myid:] - INFO  [Time-limited test:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:29,445 [myid:] - INFO  [Time-limited test:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:29,445 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30104:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:29,446 [myid:] - INFO  [Time-limited test:RequestThrottler@252] - Shutting down
2020-06-13 22:55:29,447 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:29,447 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:29,447 [myid:] - INFO  [Time-limited test:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:29,447 [myid:] - INFO  [Time-limited test:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:29,448 [myid:] - INFO  [Time-limited test:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:29,448 [myid:] - INFO  [Time-limited test:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:29,448 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:29,448 [myid:] - INFO  [Time-limited test:CommitProcessor@692] - Shutting down
2020-06-13 22:55:29,449 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:29,449 [myid:] - INFO  [Time-limited test:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:29,449 [myid:] - INFO  [Time-limited test:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:29,449 [myid:] - INFO  [Time-limited test:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:29,449 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:29,450 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:29,451 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:29,451 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:29,451 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30104). Was connected for 1168ms. Sync state: true
2020-06-13 22:55:29,451 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30103:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:29,451 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:29,451 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51396:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:51396 ********
2020-06-13 22:55:29,452 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:29,452 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51396:LearnerHandler@1150] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1148)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:782)
2020-06-13 22:55:29,453 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:29,453 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:29,452 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:29,452 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:29,454 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:29,454 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:29,453 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:29,453 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:29,453 [myid:127.0.0.1:30100] - WARN  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1360] - Session 0x1003c3b5c350000 for sever localhost/127.0.0.1:30100, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b5c350000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:29,455 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:29,455 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:29,454 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:29,454 [myid:] - INFO  [Time-limited test:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled)
2020-06-13 22:55:29,454 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:29,456 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:29,456 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:29,454 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:29,456 [myid:] - INFO  [Time-limited test:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled) to exit thread
2020-06-13 22:55:29,456 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:29,457 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:29,455 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:29,456 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30100,127.0.0.1:30103,127.0.0.1:30106 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@9fef342
2020-06-13 22:55:29,456 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:29,457 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:29,457 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:29,457 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:29,457 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:29,457 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:29,457 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:29,458 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:29,458 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:29,458 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:29,458 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:29,458 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:29,459 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2739680689543270445.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test2739680689543270445.junit.dir/version-2
2020-06-13 22:55:29,460 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x100000002
2020-06-13 22:55:29,460 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30100.
2020-06-13 22:55:29,460 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:29,460 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:29,461 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51476, server: localhost/127.0.0.1:30100
2020-06-13 22:55:29,461 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30105
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:29,461 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:29,462 [myid:] - WARN  [NIOWorkerThread-7:NIOServerCnxn@395] - Close of session 0x0
java.io.IOException: ZooKeeperServer not running
	at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:569)
	at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:349)
	at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:557)
	at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:163)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:29,462 [myid:127.0.0.1:30100] - WARN  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30100, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:29,659 [myid:127.0.0.1:30103] - INFO  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30103.
2020-06-13 22:55:29,659 [myid:127.0.0.1:30103] - INFO  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:29,660 [myid:127.0.0.1:30103] - WARN  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1360] - Session 0x1003c3b5c350000 for sever localhost/127.0.0.1:30103, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:29,662 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FastLeaderElection@1013] - Notification time out: 400
2020-06-13 22:55:29,662 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30105
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:29,662 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:30,068 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FastLeaderElection@1013] - Notification time out: 800
2020-06-13 22:55:30,068 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:30,068 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30105
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:30,158 [myid:127.0.0.1:30103] - INFO  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30103.
2020-06-13 22:55:30,158 [myid:127.0.0.1:30103] - INFO  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:30,159 [myid:127.0.0.1:30103] - WARN  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30103, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:30,211 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30106.
2020-06-13 22:55:30,211 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:30,211 [myid:127.0.0.1:30106] - WARN  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1360] - Session 0x1003c3b5c350000 for sever localhost/127.0.0.1:30106, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:30,377 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:30,377 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:30,377 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:30,377 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:30,868 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FastLeaderElection@1013] - Notification time out: 1600
2020-06-13 22:55:30,869 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30105
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:30,869 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:30,966 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30085.
2020-06-13 22:55:30,966 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:30,967 [myid:127.0.0.1:30085] - WARN  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30085, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:31,077 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:31,078 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:31,103 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:31,155 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30106.
2020-06-13 22:55:31,155 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:31,156 [myid:127.0.0.1:30106] - WARN  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1360] - Session 0x0 for sever localhost/127.0.0.1:30106, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:31,461 [myid:] - INFO  [Thread-71:ReadOnlyZooKeeperServer@79] - Read-only server started
2020-06-13 22:55:31,973 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30088.
2020-06-13 22:55:31,973 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:31,973 [myid:127.0.0.1:30088] - WARN  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30088, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:32,161 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30100.
2020-06-13 22:55:32,161 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:32,163 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51712, server: localhost/127.0.0.1:30100
2020-06-13 22:55:32,166 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30100, session id = 0x1003c3b5c350000, negotiated timeout = 30000 (READ-ONLY mode)
2020-06-13 22:55:32,166 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30103 for being r/w. Timeout 200
2020-06-13 22:55:32,369 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30106 for being r/w. Timeout 400
2020-06-13 22:55:32,473 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):FastLeaderElection@1013] - Notification time out: 3200
2020-06-13 22:55:32,473 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30105
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:32,473 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30108
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:32,603 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30100.
2020-06-13 22:55:32,603 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:32,604 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51738, server: localhost/127.0.0.1:30100
2020-06-13 22:55:32,606 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30100, session id = 0x1003c3b68980000, negotiated timeout = 30000 (READ-ONLY mode)
2020-06-13 22:55:32,606 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30103 for being r/w. Timeout 200
2020-06-13 22:55:32,755 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30082.
2020-06-13 22:55:32,755 [myid:127.0.0.1:30082] - INFO  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:32,756 [myid:127.0.0.1:30082] - WARN  [Time-limited test-SendThread(127.0.0.1:30082):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30082, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:32,773 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30100 for being r/w. Timeout 800
2020-06-13 22:55:32,774 [myid:] - INFO  [NIOWorkerThread-14:NIOServerCnxn@531] - Processing isro command from /127.0.0.1:51742
2020-06-13 22:55:32,785 [myid:] - INFO  [Time-limited test:ZooKeeper@1657] - Session: 0x1003c3b68980000 closed
2020-06-13 22:55:32,786 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 10583
2020-06-13 22:55:32,786 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 62
2020-06-13 22:55:32,786 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testConnectionEvents
2020-06-13 22:55:32,785 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@580] - EventThread shut down for session: 0x1003c3b68980000
2020-06-13 22:55:32,786 [myid:] - INFO  [main:QuorumUtil@309] - TearDown started
2020-06-13 22:55:32,786 [myid:] - INFO  [main:QuorumUtil@313] - fdcount after test is: 112
2020-06-13 22:55:32,786 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled)
2020-06-13 22:55:32,786 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:32,787 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30100:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:32,787 [myid:127.0.0.1:30100] - WARN  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1360] - Session 0x1003c3b5c350000 for sever localhost/127.0.0.1:30100, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b5c350000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:32,787 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:32,787 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:32,787 [myid:] - INFO  [main:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:32,787 [myid:] - INFO  [main:RequestThrottler@252] - Shutting down
2020-06-13 22:55:32,787 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:32,787 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:32,787 [myid:] - INFO  [main:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:32,788 [myid:] - INFO  [main:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:32,788 [myid:] - INFO  [ReadOnlyRequestProcessor:1:ReadOnlyRequestProcessor@109] - ReadOnlyRequestProcessor exited loop!
2020-06-13 22:55:32,788 [myid:] - INFO  [ProcessThread(sid:1 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:32,788 [myid:] - INFO  [main:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:32,789 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1450] - Unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
	at org.apache.zookeeper.server.quorum.FastLeaderElection.lookForLeader(FastLeaderElection.java:989)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1448)
2020-06-13 22:55:32,790 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:32,790 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:32,790 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:32,790 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled)
2020-06-13 22:55:32,791 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=1](plain=127.0.0.1:30100)(secure=disabled) to exit thread
2020-06-13 22:55:32,791 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled)
2020-06-13 22:55:32,791 [myid:] - INFO  [main:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled)
2020-06-13 22:55:32,792 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30103)(secure=disabled) to exit thread
2020-06-13 22:55:32,792 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:32,792 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:32,792 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:32,792 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30100
2020-06-13 22:55:32,793 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30100 is no longer accepting client connections
2020-06-13 22:55:32,794 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30103
2020-06-13 22:55:32,795 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30103 is no longer accepting client connections
2020-06-13 22:55:32,795 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30106
2020-06-13 22:55:32,796 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30106 is no longer accepting client connections
2020-06-13 22:55:32,797 [myid:] - INFO  [main:ZKTestCase$1@96] - SUCCEEDED testConnectionEvents
2020-06-13 22:55:32,797 [myid:] - INFO  [main:ZKTestCase$1@91] - FINISHED testConnectionEvents
2020-06-13 22:55:32,798 [myid:] - INFO  [main:JMXEnv@58] - connecting to addr service:jmx:rmi://127.0.0.1/stub/rO0ABXNyAC5qYXZheC5tYW5hZ2VtZW50LnJlbW90ZS5ybWkuUk1JU2VydmVySW1wbF9TdHViAAAAAAAAAAICAAB4cgAaamF2YS5ybWkuc2VydmVyLlJlbW90ZVN0dWLp/tzJi+FlGgIAAHhyABxqYXZhLnJtaS5zZXJ2ZXIuUmVtb3RlT2JqZWN002G0kQxhMx4DAAB4cHc4AAtVbmljYXN0UmVmMgAADTE5Mi4xNjguMS4xMDIAAPJRhDXRxbMQSRRgxO1LAAABcq4tSRyAIAB4
2020-06-13 22:55:32,807 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30109 from range 30072 - 32764.
2020-06-13 22:55:32,807 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30110 from range 30072 - 32764.
2020-06-13 22:55:32,807 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30111 from range 30072 - 32764.
2020-06-13 22:55:32,808 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30112 from range 30072 - 32764.
2020-06-13 22:55:32,808 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30113 from range 30072 - 32764.
2020-06-13 22:55:32,809 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30114 from range 30072 - 32764.
2020-06-13 22:55:32,810 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30115 from range 30072 - 32764.
2020-06-13 22:55:32,810 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30116 from range 30072 - 32764.
2020-06-13 22:55:32,810 [myid:] - INFO  [main:PortAssignment@87] - Assigned port 30117 from range 30072 - 32764.
2020-06-13 22:55:32,810 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 1; public port 30109
2020-06-13 22:55:32,811 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:32,811 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:32,811 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:32,811 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30109
2020-06-13 22:55:32,812 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:32,812 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,812 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,812 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:32,812 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:32,812 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:32,812 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 2; public port 30112
2020-06-13 22:55:32,812 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:32,812 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:32,813 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:32,813 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30112
2020-06-13 22:55:32,813 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:32,813 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,814 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,814 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:32,814 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:32,814 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:32,814 [myid:] - INFO  [main:QuorumUtil@122] - Creating QuorumPeer 3; public port 30115
2020-06-13 22:55:32,814 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:32,814 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:32,814 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:32,815 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30115
2020-06-13 22:55:32,815 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:32,816 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,816 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,816 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:32,816 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:32,816 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:32,817 [myid:] - INFO  [main:ZKTestCase$1@86] - STARTING testMultiTransaction
2020-06-13 22:55:32,817 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:32,817 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:32,817 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:32,818 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:32,818 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:32,818 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:32,818 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer
2020-06-13 22:55:32,821 [myid:] - INFO  [main:QuorumUtil@261] - No election available to shutdown QuorumPeer
2020-06-13 22:55:32,821 [myid:] - INFO  [main:QuorumUtil@263] - Waiting for QuorumPeer to exit thread
2020-06-13 22:55:32,821 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30109
2020-06-13 22:55:32,822 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30109 is no longer accepting client connections
2020-06-13 22:55:32,822 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30112
2020-06-13 22:55:32,822 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30112 is no longer accepting client connections
2020-06-13 22:55:32,822 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30115
2020-06-13 22:55:32,823 [myid:] - INFO  [main:QuorumUtil@247] - 127.0.0.1:30115 is no longer accepting client connections
2020-06-13 22:55:32,823 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 1; public port 30109
2020-06-13 22:55:32,823 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:32,823 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:32,823 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:32,824 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30109
2020-06-13 22:55:32,824 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:32,825 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,825 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,825 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:32,825 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:32,825 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:32,826 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:32,826 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4186270334024687100.junit.dir/version-2/snapshot.0
2020-06-13 22:55:32,827 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:32,828 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:32,829 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:32,830 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:32,831 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:32,831 [myid:] - INFO  [main:QuorumUtil@208] - Creating QuorumPeer 2; public port 30112
2020-06-13 22:55:32,832 [myid:] - INFO  [main:ServerCnxnFactory@171] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2020-06-13 22:55:32,832 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30111:QuorumCnxManager$Listener$ListenerHandler@1101] - 1 is accepting connections now, my election bind port: /127.0.0.1:30111
2020-06-13 22:55:32,832 [myid:] - WARN  [main:ServerCnxnFactory@311] - maxCnxns is not configured, using default value 0.
2020-06-13 22:55:32,832 [myid:] - INFO  [main:NIOServerCnxnFactory@701] - Configuring NIO connection handler with 10s sessionless connection timeout, 2 selector thread(s), 24 worker threads, and 64 kB direct buffers.
2020-06-13 22:55:32,832 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:32,832 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:32,832 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:32,832 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:32,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:32,832 [myid:] - INFO  [main:NIOServerCnxnFactory@709] - binding to port /127.0.0.1:30112
2020-06-13 22:55:32,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:32,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:32,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:32,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:32,833 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:32,834 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:32,834 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:32,833 [myid:] - INFO  [main:FileTxnSnapLog@124] - zookeeper.snapshot.trust.empty : false
2020-06-13 22:55:32,834 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:32,834 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:32,834 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4186270334024687100.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4186270334024687100.junit.dir/version-2
2020-06-13 22:55:32,834 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,834 [myid:] - INFO  [main:WatchManagerFactory@42] - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
2020-06-13 22:55:32,835 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x0
2020-06-13 22:55:32,835 [myid:] - INFO  [main:ZKDatabase@132] - zookeeper.snapshotSizeFactor = 0.33
2020-06-13 22:55:32,835 [myid:] - INFO  [main:ZKDatabase@152] - zookeeper.commitLogCount=500
2020-06-13 22:55:32,835 [myid:] - WARN  [main:QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:32,836 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:32,836 [myid:] - INFO  [main:FileTxnSnapLog@253] - Initialize file found, an empty database will not block voting participation
2020-06-13 22:55:32,836 [myid:] - INFO  [main:FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7047067259168954345.junit.dir/version-2/snapshot.0
2020-06-13 22:55:32,836 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-1:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30114
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:32,836 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30117
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:32,837 [myid:] - INFO  [main:ZKDatabase@289] - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
2020-06-13 22:55:32,837 [myid:] - INFO  [main:QuorumPeer@1123] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:32,838 [myid:] - INFO  [main:QuorumPeer@1148] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2020-06-13 22:55:32,839 [myid:] - INFO  [main:QuorumPeer@2555] - Using 6000ms as the quorum cnxn socket timeout
2020-06-13 22:55:32,840 [myid:] - INFO  [main:QuorumCnxManager$Listener@956] - Election port bind maximum retries is 3
2020-06-13 22:55:32,841 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30109
2020-06-13 22:55:32,842 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30114:QuorumCnxManager$Listener$ListenerHandler@1101] - 2 is accepting connections now, my election bind port: /127.0.0.1:30114
2020-06-13 22:55:32,842 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:32,842 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:32,842 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:32,842 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:32,842 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:32,842 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:32,843 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51753
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7047067259168954345.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7047067259168954345.junit.dir/version-2
2020-06-13 22:55:32,843 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):FastLeaderElection@967] - New election. My id = 2, proposed zxid=0x0
2020-06-13 22:55:32,845 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:32,846 [myid:] - INFO  [ListenerHandler-/127.0.0.1:30111:QuorumCnxManager$Listener$ListenerHandler@1106] - Received connection request from /127.0.0.1:51755
2020-06-13 22:55:32,846 [myid:] - WARN  [QuorumConnectionThread-[myid=2]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30117
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:32,851 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:32,851 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:32,851 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:32,851 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x0
2020-06-13 22:55:32,852 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30117
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:32,941 [myid:127.0.0.1:30103] - INFO  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30103.
2020-06-13 22:55:32,941 [myid:127.0.0.1:30103] - INFO  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:32,942 [myid:127.0.0.1:30103] - WARN  [Time-limited test-SendThread(127.0.0.1:30103):ClientCnxn$SendThread@1360] - Session 0x1003c3b5c350000 for sever localhost/127.0.0.1:30103, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:33,054 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@859] - Peer state changed: leading
2020-06-13 22:55:33,054 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@859] - Peer state changed: following
2020-06-13 22:55:33,055 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@1513] - LEADING
2020-06-13 22:55:33,055 [myid:] - INFO  [Thread-73:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:33,055 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@1497] - FOLLOWING
2020-06-13 22:55:33,055 [myid:] - INFO  [Thread-74:QuorumPeer$1@1434] - Interrupted while attempting to start ReadOnlyZooKeeperServer, not started
2020-06-13 22:55:33,056 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:33,057 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:33,055 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:33,057 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:33,057 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7047067259168954345.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7047067259168954345.junit.dir/version-2
2020-06-13 22:55:33,058 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4186270334024687100.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4186270334024687100.junit.dir/version-2
2020-06-13 22:55:33,059 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Follower@75] - FOLLOWING - LEADER ELECTION TOOK - 224 MS
2020-06-13 22:55:33,059 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):Leader@598] - LEADING - LEADER ELECTION TOOK - 215 MS
2020-06-13 22:55:33,059 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@865] - Peer state changed: following - discovery
2020-06-13 22:55:33,060 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - discovery
2020-06-13 22:55:33,060 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):FileTxnSnapLog@476] - Snapshotting: 0x0 to /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test7047067259168954345.junit.dir/version-2/snapshot.0
2020-06-13 22:55:33,061 [myid:] - INFO  [LeaderConnector-/127.0.0.1:30113:Learner$LeaderConnector@337] - Successfully connected to leader, using address: /127.0.0.1:30113
2020-06-13 22:55:33,062 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ZooKeeperServer@525] - Snapshot taken in 2 ms
2020-06-13 22:55:33,064 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51772:LearnerHandler@514] - Follower sid: 1 : info : 127.0.0.1:30110:30111:participant;127.0.0.1:30109
2020-06-13 22:55:33,066 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:33,066 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@865] - Peer state changed: following - synchronization
2020-06-13 22:55:33,066 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51772:ZKDatabase@352] - On disk txn sync enabled with snapshotSizeFactor 0.33
2020-06-13 22:55:33,066 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51772:LearnerHandler@861] - Synchronizing with Learner sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 lastProcessedZxid=0x0 peerLastZxid=0x0
2020-06-13 22:55:33,066 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51772:LearnerHandler@916] - Sending DIFF zxid=0x0 for peer sid: 1
2020-06-13 22:55:33,066 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - synchronization
2020-06-13 22:55:33,067 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Learner@542] - Getting a diff from the leader 0x0
2020-06-13 22:55:33,067 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization - diff
2020-06-13 22:55:33,068 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Learner@719] - Learner received NEWLEADER message
2020-06-13 22:55:33,068 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@1832] - configFilename is null! This should only happen in tests.
2020-06-13 22:55:33,069 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):Leader@1587] - Have quorum of supporters, sids: [[1, 2],[1, 2]]; starting up and setting last processed zxid: 0x100000000
2020-06-13 22:55:33,069 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:33,069 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:33,070 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):ContainerManager@83] - Using checkIntervalMs=60000 maxPerMinute=10000 maxNeverUsedIntervalMs=0
2020-06-13 22:55:33,071 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@865] - Peer state changed: leading - broadcast
2020-06-13 22:55:33,071 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Learner@702] - Learner received UPTODATE message
2020-06-13 22:55:33,071 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@870] - Peer state changed: following - synchronization
2020-06-13 22:55:33,071 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):CommitProcessor@543] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1
2020-06-13 22:55:33,071 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):CommitProcessor@505] - Configuring CommitProcessor with 12 worker threads.
2020-06-13 22:55:33,072 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):MBeanRegistry@110] - Failed to register MBean InMemoryDataTree
2020-06-13 22:55:33,072 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):LearnerZooKeeperServer@104] - Failed to register with JMX
javax.management.InstanceAlreadyExistsException: org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.MBeanRegistry.register(MBeanRegistry.java:106)
	at org.apache.zookeeper.server.quorum.LearnerZooKeeperServer.registerJMX(LearnerZooKeeperServer.java:102)
	at org.apache.zookeeper.server.ZooKeeperServer.startup(ZooKeeperServer.java:684)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:750)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:121)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:33,072 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@865] - Peer state changed: following - broadcast
2020-06-13 22:55:33,098 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30109
2020-06-13 22:55:33,099 [myid:] - INFO  [NIOWorkerThread-2:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51774
2020-06-13 22:55:33,099 [myid:] - INFO  [NIOWorkerThread-2:StatCommand@52] - Stat command output
2020-06-13 22:55:33,100 [myid:] - INFO  [main:FourLetterWordMain@93] - connecting to 127.0.0.1 30112
2020-06-13 22:55:33,101 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:33,102 [myid:] - INFO  [NIOWorkerThread-1:NIOServerCnxn@531] - Processing stat command from /127.0.0.1:51775
2020-06-13 22:55:33,102 [myid:] - INFO  [NIOWorkerThread-1:StatCommand@52] - Stat command output
2020-06-13 22:55:33,103 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@84] - RUNNING TEST METHOD testMultiTransaction
2020-06-13 22:55:33,103 [myid:] - INFO  [Time-limited test:ZooKeeper@1042] - Initiating client connection, connectString=127.0.0.1:30109,127.0.0.1:30112,127.0.0.1:30115 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@5e140db1
2020-06-13 22:55:33,103 [myid:] - INFO  [Time-limited test:ClientCnxnSocket@247] - jute.maxbuffer value is 1048575 Bytes
2020-06-13 22:55:33,104 [myid:] - INFO  [Time-limited test:ClientCnxn@1812] - zookeeper.request.timeout value is 0. feature enabled=false
2020-06-13 22:55:33,106 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30109.
2020-06-13 22:55:33,106 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:33,107 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51776, server: localhost/127.0.0.1:30109
2020-06-13 22:55:33,111 [myid:] - INFO  [SyncThread:2:FileTxnLog@288] - Creating new log file: log.100000001
2020-06-13 22:55:33,111 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Follower@191] - Got zxid 0x100000001 expected 0x1
2020-06-13 22:55:33,112 [myid:] - INFO  [SyncThread:1:FileTxnLog@288] - Creating new log file: log.100000001
2020-06-13 22:55:33,113 [myid:] - INFO  [CommitProcessor:2:LeaderSessionTracker@105] - Committing global session 0x1003c3b6ee00000
2020-06-13 22:55:33,113 [myid:] - INFO  [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x1003c3b6ee00000
2020-06-13 22:55:33,114 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30109, session id = 0x1003c3b6ee00000, negotiated timeout = 30000
2020-06-13 22:55:33,118 [myid:] - INFO  [Time-limited test:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled)
2020-06-13 22:55:33,118 [myid:] - INFO  [Time-limited test:Leader@837] - Shutting down
2020-06-13 22:55:33,118 [myid:] - INFO  [Time-limited test:Leader@843] - Shutdown called. For the reason quorum Peer shutdown
2020-06-13 22:55:33,119 [myid:] - INFO  [Time-limited test:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:33,119 [myid:] - WARN  [LearnerCnxAcceptorHandler-/127.0.0.1:30113:Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler@540] - Exception while shutting down acceptor.
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.acceptConnections(Leader.java:525)
	at org.apache.zookeeper.server.quorum.Leader$LearnerCnxAcceptor$LearnerCnxAcceptorHandler.run(Leader.java:507)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:33,119 [myid:] - INFO  [Time-limited test:RequestThrottler@252] - Shutting down
2020-06-13 22:55:33,119 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:33,120 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:LeaderRequestProcessor@89] - Shutting down
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:PrepRequestProcessor@1111] - Shutting down
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:ProposalRequestProcessor@91] - Shutting down
2020-06-13 22:55:33,120 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@162] - PrepRequestProcessor exited loop!
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:CommitProcessor@692] - Shutting down
2020-06-13 22:55:33,120 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:Leader$ToBeAppliedRequestProcessor@1162] - Shutting down
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:33,120 [myid:] - INFO  [Time-limited test:SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:33,121 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:33,121 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Follower@149] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:86)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:134)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:183)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:144)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1500)
2020-06-13 22:55:33,121 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:33,121 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51772:LearnerHandler@780] - ******* GOODBYE /127.0.0.1:51772 ********
2020-06-13 22:55:33,122 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:33,122 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30112:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:33,122 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:33,122 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Follower@163] - Disconnected from leader (with address: /127.0.0.1:30113). Was connected for 61ms. Sync state: true
2020-06-13 22:55:33,122 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51772:LearnerHandler@1150] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:1148)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:782)
2020-06-13 22:55:33,124 [myid:] - INFO  [QuorumPeerListener:QuorumCnxManager$Listener@1013] - Leaving listener
2020-06-13 22:55:33,123 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):Follower@318] - shutdown Follower
2020-06-13 22:55:33,123 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@1519] - Unexpected exception
java.lang.InterruptedException
	at java.lang.Object.wait(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:775)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1516)
2020-06-13 22:55:33,125 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):Leader@837] - Shutting down
2020-06-13 22:55:33,125 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 1, my id = 2
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:33,125 [myid:] - INFO  [Time-limited test:QuorumUtil@258] - Shutting down leader election QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled)
2020-06-13 22:55:33,124 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:33,124 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1438] - Connection broken for id 2, my id = 1
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1425)
2020-06-13 22:55:33,126 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 1 my id = 2
2020-06-13 22:55:33,126 [myid:] - INFO  [Time-limited test:QuorumUtil@263] - Waiting for QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled) to exit thread
2020-06-13 22:55:33,125 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 1. myId: 2
2020-06-13 22:55:33,125 [myid:] - INFO  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:33,126 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:33,126 [myid:] - WARN  [QuorumPeer[myid=2](plain=127.0.0.1:30112)(secure=disabled):QuorumPeer@1531] - QuorumPeer main thread exited
2020-06-13 22:55:33,125 [myid:127.0.0.1:30109] - WARN  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1360] - Session 0x1003c3b6ee00000 for sever localhost/127.0.0.1:30109, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b6ee00000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:33,125 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):LearnerZooKeeperServer@160] - Shutting down
2020-06-13 22:55:33,126 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@807] - shutting down
2020-06-13 22:55:33,126 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1444] - Interrupting SendWorker thread from RecvWorker. sid: 2. myId: 1
2020-06-13 22:55:33,127 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestThrottler@252] - Shutting down
2020-06-13 22:55:33,127 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:33,127 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1323] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:107)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1489)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:98)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1310)
2020-06-13 22:55:33,127 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:33,127 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@1335] - Send worker leaving thread id 2 my id = 1
2020-06-13 22:55:33,127 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):FollowerRequestProcessor@151] - Shutting down
2020-06-13 22:55:33,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):CommitProcessor@692] - Shutting down
2020-06-13 22:55:33,128 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@115] - FollowerRequestProcessor exited loop!
2020-06-13 22:55:33,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):FinalRequestProcessor@672] - shutdown of request processor complete
2020-06-13 22:55:33,128 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@473] - CommitProcessor exited loop!
2020-06-13 22:55:33,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):SyncRequestProcessor@293] - Shutting down
2020-06-13 22:55:33,128 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@257] - SyncRequestProcessor exited!
2020-06-13 22:55:33,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@865] - Peer state changed: looking
2020-06-13 22:55:33,128 [myid:] - WARN  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@1549] - PeerState set to LOOKING
2020-06-13 22:55:33,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@1410] - LOOKING
2020-06-13 22:55:33,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):QuorumPeer@1414] - Attempting to start ReadOnlyZooKeeperServer
2020-06-13 22:55:33,128 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1285] - minSessionTimeout set to 4000
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1294] - maxSessionTimeout set to 40000
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ResponseCache@45] - Response cache size is initialized with value 400.
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@111] - zookeeper.pathStats.slotCapacity = 60
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@112] - zookeeper.pathStats.slotDuration = 15
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@113] - zookeeper.pathStats.maxDepth = 6
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@114] - zookeeper.pathStats.initialDelay = 5
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@115] - zookeeper.pathStats.delay = 5
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):RequestPathMetricsCollector@116] - zookeeper.pathStats.enabled = false
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1533] - The max bytes for all large requests are set to 104857600
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@1547] - The large request threshold is set to -1
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):ZooKeeperServer@332] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 clientPortListenBacklog -1 datadir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4186270334024687100.junit.dir/version-2 snapdir /Users/dylan/IdeaProjects/openSource/zookeeper-vip2/zookeeper-server/target/surefire/test4186270334024687100.junit.dir/version-2
2020-06-13 22:55:33,129 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):FastLeaderElection@967] - New election. My id = 1, proposed zxid=0x100000002
2020-06-13 22:55:33,130 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@394] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x1, n.zxid:0x100000002, message format version:0x2, n.config version:0x0
2020-06-13 22:55:33,130 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30114
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:33,131 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30117
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:33,331 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):FastLeaderElection@1013] - Notification time out: 400
2020-06-13 22:55:33,331 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30117
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:33,331 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30114
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:33,583 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30106.
2020-06-13 22:55:33,583 [myid:127.0.0.1:30106] - INFO  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:33,585 [myid:127.0.0.1:30106] - WARN  [Time-limited test-SendThread(127.0.0.1:30106):ClientCnxn$SendThread@1360] - Session 0x1003c3b5c350000 for sever localhost/127.0.0.1:30106, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:33,735 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):FastLeaderElection@1013] - Notification time out: 800
2020-06-13 22:55:33,735 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30117
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:33,735 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30114
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:33,745 [myid:127.0.0.1:30115] - INFO  [Time-limited test-SendThread(127.0.0.1:30115):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30115.
2020-06-13 22:55:33,745 [myid:127.0.0.1:30115] - INFO  [Time-limited test-SendThread(127.0.0.1:30115):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:33,746 [myid:127.0.0.1:30115] - WARN  [Time-limited test-SendThread(127.0.0.1:30115):ClientCnxn$SendThread@1360] - Session 0x1003c3b6ee00000 for sever localhost/127.0.0.1:30115, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:34,540 [myid:] - INFO  [QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled):FastLeaderElection@1013] - Notification time out: 1600
2020-06-13 22:55:34,540 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-3:QuorumCnxManager@408] - Cannot open channel to 3 at election address /127.0.0.1:30117
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:34,540 [myid:] - WARN  [QuorumConnectionThread-[myid=1]-2:QuorumCnxManager@408] - Cannot open channel to 2 at election address /127.0.0.1:30114
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateConnection(QuorumCnxManager.java:391)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:466)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2020-06-13 22:55:34,619 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30085.
2020-06-13 22:55:34,619 [myid:127.0.0.1:30085] - INFO  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:34,620 [myid:127.0.0.1:30085] - WARN  [Time-limited test-SendThread(127.0.0.1:30085):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30085, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:34,647 [myid:127.0.0.1:30112] - INFO  [Time-limited test-SendThread(127.0.0.1:30112):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30112.
2020-06-13 22:55:34,647 [myid:127.0.0.1:30112] - INFO  [Time-limited test-SendThread(127.0.0.1:30112):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:34,648 [myid:127.0.0.1:30112] - WARN  [Time-limited test-SendThread(127.0.0.1:30112):ClientCnxn$SendThread@1360] - Session 0x1003c3b6ee00000 for sever localhost/127.0.0.1:30112, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:34,959 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30088.
2020-06-13 22:55:34,959 [myid:127.0.0.1:30088] - INFO  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:34,959 [myid:127.0.0.1:30088] - WARN  [Time-limited test-SendThread(127.0.0.1:30088):ClientCnxn$SendThread@1360] - Session 0x2003c3b461e0000 for sever localhost/127.0.0.1:30088, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:35,103 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@175] - SessionTrackerImpl exited loop!
2020-06-13 22:55:35,136 [myid:] - INFO  [Thread-78:ReadOnlyZooKeeperServer@79] - Read-only server started
2020-06-13 22:55:35,466 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:35,466 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:35,477 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30100.
2020-06-13 22:55:35,477 [myid:127.0.0.1:30100] - INFO  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:35,477 [myid:127.0.0.1:30100] - WARN  [Time-limited test-SendThread(127.0.0.1:30100):ClientCnxn$SendThread@1360] - Session 0x1003c3b5c350000 for sever localhost/127.0.0.1:30100, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
java.net.ConnectException: Connection refused
	at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)
	at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:387)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:35,845 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@518] - WorkerSender is down
2020-06-13 22:55:35,852 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@482] - WorkerReceiver is down
2020-06-13 22:55:35,898 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1213] - Opening socket connection to server localhost/127.0.0.1:30109.
2020-06-13 22:55:35,898 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1215] - SASL config status: Will not attempt to authenticate using SASL (unknown error)
2020-06-13 22:55:35,899 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1035] - Socket connection established, initiating session, client: /127.0.0.1:51907, server: localhost/127.0.0.1:30109
2020-06-13 22:55:35,903 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1512] - Session establishment complete on server localhost/127.0.0.1:30109, session id = 0x1003c3b6ee00000, negotiated timeout = 30000 (READ-ONLY mode)
2020-06-13 22:55:35,904 [myid:127.0.0.1:30109] - INFO  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1403] - Checking server /127.0.0.1:30115 for being r/w. Timeout 200
2020-06-13 22:55:35,933 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@89] - Memory used 20220
2020-06-13 22:55:35,933 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@94] - Number of threads 65
2020-06-13 22:55:35,934 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@109] - FINISHED TEST METHOD testMultiTransaction
2020-06-13 22:55:35,934 [myid:] - INFO  [main:QuorumUtil@309] - TearDown started
2020-06-13 22:55:35,934 [myid:] - INFO  [main:QuorumUtil@313] - fdcount after test is: 115
2020-06-13 22:55:35,935 [myid:] - INFO  [main:QuorumUtil@254] - Shutting down quorum peer QuorumPeer[myid=1](plain=127.0.0.1:30109)(secure=disabled)
2020-06-13 22:55:35,935 [myid:] - INFO  [ConnnectionExpirer:NIOServerCnxnFactory$ConnectionExpirerThread@613] - ConnnectionExpirerThread interrupted
2020-06-13 22:55:35,936 [myid:] - INFO  [NIOServerCxnFactory.AcceptThread:/127.0.0.1:30109:NIOServerCnxnFactory$AcceptThread@209] - accept thread exitted run method
2020-06-13 22:55:35,936 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-0:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:35,936 [myid:] - INFO  [NIOServerCxnFactory.SelectorThread-1:NIOServerCnxnFactory$SelectorThread@423] - selector thread exitted run method
2020-06-13 22:55:35,936 [myid:127.0.0.1:30109] - WARN  [Time-limited test-SendThread(127.0.0.1:30109):ClientCnxn$SendThread@1360] - Session 0x1003c3b6ee00000 for sever localhost/127.0.0.1:30109, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.
EndOfStreamException: Unable to read additional data from server sessionid 0x1003c3b6ee00000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:82)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:401)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1350)
2020-06-13 22:55:35,936 [myid:] - INFO  [main:ZooKeeperServer@807] - shutting down
2020-06-13 22:55:35,937 [myid:] - INFO  [main:RequestThrottler@252] - Shutting down
2020-06-13 22:55:35,937 [myid:] - INFO  [RequestThrottler:RequestThrottler@212] - Draining request throttler queue
2020-06-13 22:55:35,937 [myid:] - INFO  [RequestThrottler:RequestThrottler@188] - RequestThrottler shutdown. Dropped 0 requests
2020-06-13 22:55:35,937 [myid:] - INFO  [main:SessionTrackerImpl@254] - Shutting down
2020-06-13 22:55:35,937 [myid:] - INFO  [main:PrepRequestProcessor@1111] - Shutting down
